---
layout: post
title: Java Web Application with Embedded Tomcat
date: 2018-08-31
description: This tutorial is to create a Java web application using embedded Apache Tomcat web server.
keywords: Java, Tomcat, Embedded
---

<h3>Purpose</h3>
<p>This is to create a web application in Java. The Apache Tomcat will be emddeded to the JAR (not WAR), called uber/fat JAR. Other dependencies, if there is any, will also be included.</p>
<p>We will create a page with the following URL:</p>
<code>http://localhost:8080/java-web-app-with-embedded-tomcat/hello</code>
<br><br>
<p>This page will display a form with two inputs, <span class="font-italic">name</span> and <span class="font-italic">message</span>. When submitted, it will display the message and name on the same page.</p>
<h3>Requirements</h3>
<ul>
    <li>JDK 8</li>
    <li>Maven</li>
    <li>an IDE - Eclipse, NetBeans, or Intellij IDEA</li>
</ul>
</h3>
<h3>Build with Maven</h3>
<p>First, we'll create a Java Maven project. Open your terminal and cd to your preferred workspace and run the following commands:</p>
<pre>
mkdir java-web-app-with-embedded-tomcat
cd java-web-app-with-embedded-tomcat
mkdir -p src/main/java/io/github/julinjupiter/app
mkdir src/main/resources
mkdir -p src/main/webapp/WEB-INF
touch pom.xml
</pre>
<p><strong>Note:</strong> you can choose your own package instead of <span class="font-italic">io/github/julianjupiter/app</span> (<span class="font-italic">io.github.julinjupiter.app</span>)</p>
<p>The project structure should now be:</p>
<pre>
java-web-app-with-embedded-tomcat
└── src
    └── main
        └── java
            └── io
                └── github
                    └── julianjupiter
                        └── app
        └── resources
        └── webapp
            └── WEB-INF
└── pom.xml
</pre>
<p>Open <span class="font-weight-bold">pom.xml</span> using your favorite editor (mine is <a href="https://code.visualstudio.com" target="_blank">Visual Studio Code</a>). Copy and paste the following XML file.</p>
<pre>
    <code class="language-xml">
    <project xmlns="http://maven.apache.org/POM/4.0.0"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
        <modelVersion>4.0.0</modelVersion>
        <groupId>io.github.julianjupiter</groupId>
        <artifactId>java-web-app-with-embedded-tomcat</artifactId>
        <version>1.0.0-SNAPSHOT</version>
        <packaging>jar</packaging>

        <name>java-web-app-with-embedded-tomcat</name>
        <description>Java Web Application with Embedded Tomcat.</description>

        <properties>
            <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
            <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
            <maven.compiler.source>1.8</maven.compiler.source>
            <maven.compiler.target>1.8</maven.compiler.target>
            <failOnMissingWebXml>false</failOnMissingWebXml>
            <tomcat.version>9.0.11</tomcat.version>
            <slf4j.version>1.7.25</slf4j.version>
        </properties>

        <dependencies>
            <dependency>
                <groupId>org.apache.tomcat.embed</groupId>
                <artifactId>tomcat-embed-core</artifactId>
                <version>${tomcat.version}</version>
            </dependency>
            <dependency>
                <groupId>org.apache.tomcat.embed</groupId>
                <artifactId>tomcat-embed-jasper</artifactId>
                <version>${tomcat.version}</version>
            </dependency>
            <dependency>
                <groupId>javax.servlet</groupId>
                <artifactId>jstl</artifactId>
                <version>1.2</version>
            </dependency>
            <dependency>
                <groupId>org.slf4j</groupId>
                <artifactId>slf4j-log4j12</artifactId>
                <version>${slf4j.version}</version>
            </dependency>
            <dependency>
                <groupId>org.slf4j</groupId>
                <artifactId>jcl-over-slf4j</artifactId>
                <version>${slf4j.version}</version>
            </dependency>
        </dependencies>

        <build>
            <resources>
                <resource>
                    <directory>src/main/webapp</directory>
                    <targetPath>META-INF/resources</targetPath>
                </resource>
                <resource>
                    <directory>src/main/resources</directory>
                </resource>
            </resources>
            <plugins>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-shade-plugin</artifactId>
                    <version>3.1.1</version>
                    <configuration>
                        <createDependencyReducedPom>true</createDependencyReducedPom>
                        <filters>
                            <filter>
                                <artifact>*:*</artifact>
                                <excludes>
                                    <exclude>META-INF/*.SF</exclude>
                                    <exclude>META-INF/*.DSA</exclude>
                                    <exclude>META-INF/*.RSA</exclude>
                                </excludes>
                            </filter>
                        </filters>
                    </configuration>
                    <executions>
                        <execution>
                            <phase>package</phase>
                            <goals>
                                <goal>shade</goal>
                            </goals>
                            <configuration>
                                <createDependencyReducedPom>false</createDependencyReducedPom>
                                <transformers>
                                    <transformer
                                        implementation="org.apache.maven.plugins.shade.resource.ManifestResourceTransformer">
                                        <mainClass>io.github.julianjupiter.app.Main</mainClass>
                                    </transformer>
                                </transformers>
                            </configuration>
                        </execution>
                    </executions>
                </plugin>
            </plugins>
        </build>        
    </project>    
    </code>
</pre>
<p>To be continued...</p>