{"pageProps":{"allPosts":[{"title":"Java Web Application with Embedded Tomcat","excerpt":"This tutorial is to create a Java web application using embedded Apache Tomcat web server.","date":"Sat Aug 31 2019 08:00:00 GMT+0800 (Philippine Standard Time)","image":{"cover":"/assets/blog/java-web-application-with-embedded-tomcat/cover.PNG","og":"/assets/blog/java-web-application-with-embedded-tomcat/cover.PNG"},"slug":"java-web-application-with-embedded-tomcat","content":"\r\n### Purpose\r\n\r\nThis is to create a web application in Java. The Apache Tomcat will be emddeded to the JAR (not WAR), called uber/fat JAR. Other dependencies, if there is any, will also be included.\r\n\r\nWe will create a page with the following URL:\r\n\r\n```\r\nhttp://localhost:8080/app/\r\n```\r\n\r\nThis page will display an introduction about embedding Tomcat with Java Web application. This also include button that is link to _[Books](http://localhost:8080/app/books)_ page.\r\n\r\n**_Book_** page is a list of books with columns: **_ID_**, **_Title_**, **_Edition_** and **_Action_** button that when clicked will display a modal consisting more information about selected book.\r\n\r\n### Requirements\r\n\r\n- JDK 8\r\n- Maven\r\n- an IDE - Eclipse (Or NetBeans, Intellij IDEA, if you prefer)\r\n\r\n### Build with Maven\r\n\r\nFirst, we'll create a Java Maven project. Open your terminal and cd to your preferred workspace and run the following commands:\r\n\r\n```bash\r\n$ mkdir java-web-app-with-embedded-tomcat\r\n$ cd java-web-app-with-embedded-tomcat\r\n$ mkdir -p src/main/java/io/github/julinjupiter/app\r\n$ mkdir src/main/resources\r\n$ mkdir -p src/main/webapp/WEB-INF\r\n$ touch pom.xml\r\n```\r\n\r\n_Note:_ you can choose your own package instead of _io/github/julianjupiter/app_ (_io.github.julinjupiter.app_)\r\n\r\nThe project structure should now be:\r\n\r\n```\r\n    java-web-app-with-embedded-tomcat\r\n    └── src\r\n        └── main\r\n            └── java\r\n                └── io\r\n                    └── github\r\n                        └── julianjupiter\r\n                            └── app\r\n            └── resources\r\n            └── webapp\r\n                └── WEB-INF\r\n    └── pom.xml\r\n```\r\n\r\nOpen **_pom.xml_** using your favorite editor (mine is [Visual Studio Code](https://code.visualstudio.com)). Copy and paste the following XML.\r\n\r\n```markup\r\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\r\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n  <modelVersion>4.0.0</modelVersion>\r\n  <groupId>io.github.julianjupiter</groupId>\r\n  <artifactId>java-web-app-with-embedded-tomcat</artifactId>\r\n  <version>1.0.0-SNAPSHOT</version>\r\n  <packaging>jar</packaging>\r\n\r\n  <name>java-web-app-with-embedded-tomcat</name>\r\n  <description>Java Web Application with Embedded Tomcat.</description>\r\n\r\n  <properties>\r\n      <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\r\n      <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>\r\n      <maven.compiler.source>1.8</maven.compiler.source>\r\n      <maven.compiler.target>1.8</maven.compiler.target>\r\n      <failOnMissingWebXml>false</failOnMissingWebXml>\r\n      <tomcat.version>9.0.13</tomcat.version>\r\n      <slf4j.version>1.7.25</slf4j.version>\r\n  </properties>\r\n\r\n  <dependencies>\r\n      <dependency>\r\n          <groupId>org.apache.tomcat.embed</groupId>\r\n          <artifactId>tomcat-embed-core</artifactId>\r\n          <version>${tomcat.version}</version>\r\n      </dependency>\r\n      <dependency>\r\n          <groupId>org.apache.tomcat.embed</groupId>\r\n          <artifactId>tomcat-embed-jasper</artifactId>\r\n          <version>${tomcat.version}</version>\r\n      </dependency>\r\n      <dependency>\r\n          <groupId>javax.servlet</groupId>\r\n          <artifactId>jstl</artifactId>\r\n          <version>1.2</version>\r\n      </dependency>\r\n      <dependency>\r\n          <groupId>javax.json.bind</groupId>\r\n          <artifactId>javax.json.bind-api</artifactId>\r\n          <version>1.0</version>\r\n      </dependency>\r\n      <dependency>\r\n          <groupId>org.eclipse</groupId>\r\n          <artifactId>yasson</artifactId>\r\n          <version>1.0.2</version>\r\n      </dependency>\r\n      <dependency>\r\n          <groupId>org.glassfish</groupId>\r\n          <artifactId>javax.json</artifactId>\r\n          <version>1.1.3</version>\r\n      </dependency>\r\n      <dependency>\r\n          <groupId>org.slf4j</groupId>\r\n          <artifactId>slf4j-log4j12</artifactId>\r\n          <version>${slf4j.version}</version>\r\n      </dependency>\r\n      <dependency>\r\n          <groupId>org.slf4j</groupId>\r\n          <artifactId>jcl-over-slf4j</artifactId>\r\n          <version>${slf4j.version}</version>\r\n      </dependency>\r\n  </dependencies>\r\n\r\n  <build>\r\n      <resources>\r\n          <resource>\r\n              <directory>src/main/webapp</directory>\r\n              <targetPath>META-INF/resources</targetPath>\r\n          </resource>\r\n          <resource>\r\n              <directory>src/main/resources</directory>\r\n          </resource>\r\n      </resources>\r\n      <plugins>\r\n          <plugin>\r\n              <groupId>org.apache.maven.plugins</groupId>\r\n              <artifactId>maven-shade-plugin</artifactId>\r\n              <version>3.1.1</version>\r\n              <configuration>\r\n                  <createDependencyReducedPom>true</createDependencyReducedPom>\r\n                  <filters>\r\n                      <filter>\r\n                          <artifact>*:*</artifact>\r\n                          <excludes>\r\n                              <exclude>META-INF/*.SF</exclude>\r\n                              <exclude>META-INF/*.DSA</exclude>\r\n                              <exclude>META-INF/*.RSA</exclude>\r\n                          </excludes>\r\n                      </filter>\r\n                  </filters>\r\n              </configuration>\r\n              <executions>\r\n                  <execution>\r\n                      <phase>package</phase>\r\n                      <goals>\r\n                          <goal>shade</goal>\r\n                      </goals>\r\n                      <configuration>\r\n                          <createDependencyReducedPom>false</createDependencyReducedPom>\r\n                          <transformers>\r\n                              <transformer implementation=\"org.apache.maven.plugins.shade.resource.ServicesResourceTransformer\"/>\r\n                              <transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\">\r\n                                  <mainClass>io.github.julianjupiter.app.Main</mainClass>\r\n                              </transformer>\r\n                          </transformers>\r\n                      </configuration>\r\n                  </execution>\r\n              </executions>\r\n          </plugin>\r\n      </plugins>\r\n  </build>\r\n</project>\r\n```\r\n\r\nTake note that our **_packaging_** is **_jar_** and we are using **_Maven Shade Plugin_** here to package our application into JAR. From its website, it reads:\r\n\r\n_This plugin provides the capability to package the artifact in an uber-jar, including its dependencies and to shade - i.e. rename - the packages of some of the dependencies._\r\n\r\nAnother thing worth to mention is the **_mainClass_** tag where we define our class with **_main_** method.\r\n\r\nLastly, we include at least two dependencies for embedding Tomcat: _tomcat-embed-core_, _tomcat-embed-jasper_.\r\n\r\n### Import to Eclipse\r\n\r\nTo import the project:\r\n\r\n_Eclipse - File > Import... > Maven > Existing Maven Projects > Browse ... (for Root Directory) > Finish_\r\n\r\n### Let's Start Coding\r\n\r\n#### Server\r\n\r\nCreate a package **_server_** under **_app_**. Under this package, we will have an interface **_Server_** and class **_TomcatServer_**. The interface will have one abstract method, **_run_** which will serve as entry point to start our Tomcat server. This opens a possibility to add more servers other than Tomcat, either from scratch or use existing ones (Jetty, Undertow).\r\n\r\n##### `Server.java`\r\n\r\n```java\r\npackage io.github.julianjupiter.app.server;\r\n\r\npublic interface Server {\r\n    public void run(String[] args);\r\n}\r\n```\r\n\r\n##### `TomcatServer.java`\r\n\r\n```java\r\npackage io.github.julianjupiter.app.server;\r\n\r\nimport java.io.File;\r\n\r\nimport org.apache.catalina.Context;\r\nimport org.apache.catalina.LifecycleException;\r\nimport org.apache.catalina.WebResourceRoot;\r\nimport org.apache.catalina.startup.Tomcat;\r\nimport org.apache.catalina.webresources.DirResourceSet;\r\nimport org.apache.catalina.webresources.StandardRoot;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class TomcatServer implements Server {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(TomcatServer.class);\r\n    private static final String DEFAULT_HOST = \"localhost\";\r\n    private static final int DEFAULT_PORT = 8080;\r\n    private static final String DEFAULT_CONTEXT_PATH = \"/app\";\r\n    private static final String DOC_BASE = \".\";\r\n    private static final String ADDITION_WEB_INF_CLASSES = \"target/classes\";\r\n    private static final String WEB_APP_MOUNT = \"/WEB-INF/classes\";\r\n    private static final String INTERNAL_PATH = \"/\";\r\n\r\n    @Override\r\n    public void run(String[] args) {\r\n        int port = port(args);\r\n        Tomcat tomcat = tomcat(port);\r\n\r\n        try {\r\n            tomcat.start();\r\n        } catch (LifecycleException exception) {\r\n            LOGGER.error(\"{}\", exception.getMessage());\r\n            LOGGER.error(\"Exit...\");\r\n            System.exit(1);\r\n        }\r\n\r\n        LOGGER.info(\"Application started with URL {}.\", DEFAULT_HOST + \":\" + port + DEFAULT_CONTEXT_PATH);\r\n        LOGGER.info(\"Hit Ctrl + D or C to stop it...\");\r\n        tomcat.getServer().await();\r\n    }\r\n\r\n    private int port(String[] args) {\r\n        if (args.length > 0) {\r\n            String port = args[0];\r\n            try {\r\n                return Integer.valueOf(port);\r\n            } catch (NumberFormatException exception) {\r\n                LOGGER.error(\"Invalid port number argument {}\", port, exception);\r\n            }\r\n        }\r\n\r\n        return DEFAULT_PORT;\r\n    }\r\n\r\n    private Tomcat tomcat(int port) {\r\n        Tomcat tomcat = new Tomcat();\r\n        tomcat.setHostname(DEFAULT_HOST);\r\n        tomcat.getHost().setAppBase(DOC_BASE);\r\n        tomcat.setPort(port);\r\n        tomcat.getConnector();\r\n        context(tomcat);\r\n\r\n        return tomcat;\r\n    }\r\n\r\n    private Context context(Tomcat tomcat) {\r\n        Context context = tomcat.addWebapp(DEFAULT_CONTEXT_PATH, DOC_BASE);\r\n        File classes = new File(ADDITION_WEB_INF_CLASSES);\r\n        String base = classes.getAbsolutePath();\r\n        WebResourceRoot resources = new StandardRoot(context);\r\n        resources.addPreResources(new DirResourceSet(resources, WEB_APP_MOUNT, base, INTERNAL_PATH));\r\n        context.setResources(resources);\r\n\r\n        return context;\r\n    }\r\n}\r\n```\r\n\r\n##### Main.java\r\n\r\nWe will now create our main class as defined by **_mainClass_** in pom.xml.\r\n\r\nAs this class contains **_main_** method, this will serve as entry point to start our application and the server. Here, we instantiate the **_TomcatServer_** class and call **_run_** method. We pass in **_args_** argument from **_main_** method to **_run_** method. By default, the server will listen on port **_8080_** but we can override it by passing desired port number to our **_main_** method. This is optional, though (stick to 8080).\r\n\r\n```java\r\npackage io.github.julianjupiter.app;\r\n\r\nimport io.github.julianjupiter.app.server.Server;\r\nimport io.github.julianjupiter.app.server.TomcatServer;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Server app = new TomcatServer();\r\n        app.run(args);\r\n    }\r\n}\r\n```\r\n\r\nWith the codes above, we can now build and run our application, but since there is no Servlet handler or default JSP page, it will just error page.\r\n\r\nTo test our application, create a **_index.jsp_** file inside **_webapp_** folder.\r\n\r\n```markup\r\n<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\r\n<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n        <meta charset=\"UTF-8\">\r\n        <title>Java Web Application with Embedded Tomcat</title>\r\n    </head>\r\n    <body>\r\n        <h1>Hello, world!</h1>\r\n    </body>\r\n</html>\r\n```\r\n\r\nTo build and run the application, run the following commands under the root directory of the project:\r\n\r\n```bash\r\n$ mvn package\r\n$ java -jar ./target/java-web-app-with-embedded-tomcat-1.0.0-SNAPSHOT.jar\r\n```\r\n\r\nIf the application starts successfully, open your browser: [http://localhost:8080/app](http://localhost:8080/app).\r\n\r\n<br>\r\n<img class=\"img-fluid\" src=\"/assets/blog/java-web-application-with-embedded-tomcat/1.PNG\">\r\n<br>\r\n<br>\r\n\r\n### Add Servlet, JSPs and Other Classes\r\n\r\n#### Domain Model\r\n\r\n##### `Book.java`\r\n\r\nThis class is simply a POJO as state container of our data.\r\n\r\n```java\r\npackage io.github.julianjupiter.app.domain;\r\n\r\nimport javax.json.bind.annotation.JsonbNillable;\r\n\r\n@JsonbNillable\r\npublic class Book {\r\n    private long id;\r\n    private String title;\r\n    private String edition;\r\n\r\n    private String isbn;\r\n    private String author;\r\n    private String yearPublished;\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getEdition() {\r\n        return edition;\r\n    }\r\n\r\n    public String getIsbn() {\r\n        return isbn;\r\n    }\r\n\r\n    public void setIsbn(String isbn) {\r\n        this.isbn = isbn;\r\n    }\r\n\r\n    public void setEdition(String edition) {\r\n        this.edition = edition;\r\n    }\r\n\r\n    public String getAuthor() {\r\n        return author;\r\n    }\r\n\r\n    public void setAuthor(String author) {\r\n        this.author = author;\r\n    }\r\n\r\n    public String getYearPublished() {\r\n        return yearPublished;\r\n    }\r\n\r\n    public void setYearPublished(String yearPublished) {\r\n        this.yearPublished = yearPublished;\r\n    }\r\n}\r\n```\r\n\r\n#### Repository\r\n\r\nThese serve our repository. However, the data is just a dummy for this demo.\r\n\r\n##### `BookRepository.java`\r\n\r\n```java\r\n    package io.github.julianjupiter.app.repository;\r\n\r\n    import java.util.Optional;\r\n\r\n    import io.github.julianjupiter.app.domain.Book;\r\n\r\n    public interface BookRepository {\r\n\r\n        Iterable<Book> findAll();\r\n\r\n        Optional<Book> findById(long id);\r\n\r\n    }\r\n```\r\n\r\n##### `BookRepositoryImpl.java`\r\n\r\n```java\r\npackage io.github.julianjupiter.app.repository;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport io.github.julianjupiter.app.domain.Book;\r\n\r\npublic class BookRepositoryImpl implements BookRepository {\r\n\r\n    private static List<Book> bookList = new ArrayList<>();\r\n\r\n    static {\r\n        Book book1 = new Book();\r\n        book1.setId(1L);\r\n        book1.setTitle(\"Beginning Spring Boot 2\");\r\n        book1.setIsbn(\"978-1-4842-2930-9\");\r\n        book1.setAuthor(\"K. Siva Prasad Reddy\");\r\n        book1.setYearPublished(\"2017\");\r\n\r\n        Book book2 = new Book();\r\n        book2.setId(2L);\r\n        book2.setTitle(\"Effective Java\");\r\n        book2.setEdition(\"Third Edition\");\r\n        book2.setIsbn(\"978-0-13-468599-1\");\r\n        book2.setAuthor(\"Joshua Block\");\r\n        book2.setYearPublished(\"2018\");\r\n\r\n        Book[] books = { book1, book2 };\r\n        bookList = Arrays.asList(books);\r\n    }\r\n\r\n    @Override\r\n    public Iterable<Book> findAll() {\r\n        return bookList;\r\n    }\r\n\r\n    @Override\r\n    public Optional<Book> findById(long id) {\r\n        return bookList.stream()\r\n            .filter(book -> book.getId() == id)\r\n            .findFirst();\r\n    }\r\n\r\n}\r\n```\r\n\r\n#### Service\r\n\r\nThese serve as intermediary between our controller and repository.\r\n\r\n##### `BookService.java`\r\n\r\n```java\r\npackage io.github.julianjupiter.app.service;\r\n\r\nimport java.util.Optional;\r\n\r\nimport io.github.julianjupiter.app.domain.Book;\r\n\r\npublic interface BookService {\r\n\r\n    Iterable<Book> findAll();\r\n\r\n    Optional<Book> findById(long id);\r\n\r\n}\r\n```\r\n\r\n##### `BookServiceImpl.java`\r\n\r\n```java\r\npackage io.github.julianjupiter.app.service;\r\n\r\nimport java.util.Optional;\r\n\r\nimport io.github.julianjupiter.app.domain.Book;\r\nimport io.github.julianjupiter.app.repository.BookRepository;\r\n\r\npublic class BookServiceImpl implements BookService {\r\n\r\n    private BookRepository bookRepository;\r\n\r\n    public BookServiceImpl(BookRepository bookRepository) {\r\n        this.bookRepository = bookRepository;\r\n    }\r\n\r\n    @Override\r\n    public Iterable<Book> findAll() {\r\n        return this.bookRepository.findAll();\r\n    }\r\n\r\n    @Override\r\n    public Optional<Book> findById(long id) {\r\n        return this.bookRepository.findById(id);\r\n    }\r\n\r\n}\r\n```\r\n\r\n##### Controller\r\n\r\n##### `BaseController.java`\r\n\r\nWe'll create a base controller that will contain common properties and methods to be used by our controller. We extends this class with **_HttpServlet_** so that any class (controller) that extends it becomes an Servlet too.\r\n\r\n```java\r\npackage io.github.julianjupiter.app.controller;\r\n\r\nimport java.io.IOException;\r\n\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\npublic class BaseController extends HttpServlet {\r\n\r\n    private static final long serialVersionUID = 632349127293785744L;\r\n    private static final String VIEW_PREFIX = \"/WEB-INF/templates/\";\r\n    private static final String VIEW_SUFFIX = \".jsp\";\r\n\r\n    protected String getAction(HttpServletRequest request) {\r\n        String action = request.getParameter(\"action\");\r\n\r\n        return (action == null) || action.isEmpty() ? \"\" : action;\r\n    }\r\n\r\n    protected void render(HttpServletRequest request, HttpServletResponse response, String template) throws ServletException, IOException {\r\n        getServletContext().getRequestDispatcher(VIEW_PREFIX + template + VIEW_SUFFIX).forward(request, response);\r\n    }\r\n\r\n    public void redirect(HttpServletResponse response, String path) throws IOException {\r\n        response.sendRedirect(path);\r\n    }\r\n\r\n}\r\n```\r\n\r\n##### `BookController.java`\r\n\r\nThe **_BookController_** extends **_BaseController_** class to become a Servlet. This will serve as the controller. Since our application will only display list of books and individual book, only **_doGet_** method will be implemented. This method intercepts all **_HTTP GET_** request.\r\n\r\n```java\r\npackage io.github.julianjupiter.app.controller;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.time.ZonedDateTime;\r\nimport java.util.Optional;\r\n\r\nimport javax.json.bind.Jsonb;\r\nimport javax.json.bind.JsonbBuilder;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport io.github.julianjupiter.app.domain.Book;\r\nimport io.github.julianjupiter.app.repository.BookRepositoryImpl;\r\nimport io.github.julianjupiter.app.service.BookService;\r\nimport io.github.julianjupiter.app.service.BookServiceImpl;\r\nimport io.github.julianjupiter.app.util.Error;\r\nimport io.github.julianjupiter.app.util.ErrorResponse;\r\n\r\n@WebServlet(name = \"bookController\", urlPatterns = \"/books\")\r\npublic class BookController extends BaseController {\r\n\r\n    private static final long serialVersionUID = -8199839431714257029L;\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(BookController.class);\r\n    private final BookService bookService;\r\n\r\n    public BookController() {\r\n        this.bookService = new BookServiceImpl(new BookRepositoryImpl());\r\n    }\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        String action = this.getAction(request);\r\n        switch (action) {\r\n            case \"\":\r\n            case \"list\":\r\n                try {\r\n                    this.findAll(request, response);\r\n                } catch (Exception exception) {\r\n                    LOGGER.error(exception.getMessage());\r\n                }\r\n\r\n                break;\r\n            case \"view\":\r\n                try {\r\n                    this.findById(request, response);\r\n                } catch (Exception exception) {\r\n                    LOGGER.error(exception.getMessage());\r\n                }\r\n\r\n                break;\r\n\r\n            default:\r\n                try {\r\n                    response.setStatus(404);\r\n                    this.render(request, response, \"error/404\");\r\n                } catch (Exception exception) {\r\n                    LOGGER.error(exception.getMessage());\r\n                }\r\n\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    private void findAll(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        Iterable<Book> books = this.bookService.findAll();\r\n        request.setAttribute(\"pageName\", \"Books\");\r\n        request.setAttribute(\"books\", books);\r\n        this.render(request, response, \"book/list\");\r\n    }\r\n\r\n    private void findById(HttpServletRequest request, HttpServletResponse response) throws Exception {\r\n        String id = request.getParameter(\"id\");\r\n        long bookId = Long.parseLong(id);\r\n        Optional<Book> book = this.bookService.findById(bookId);\r\n        String bookJson;\r\n        try(Jsonb jsonbObject = JsonbBuilder.create()) {\r\n            if (book.isPresent()) {\r\n                response.setStatus(200);\r\n                bookJson = jsonbObject.toJson(book.get());\r\n            } else {\r\n                response.setStatus(404);\r\n                ErrorResponse errorResponse = new ErrorResponse();\r\n                Error error = new Error();\r\n                error.setMessage(\"Book with ID \" + id + \" was not found.\");\r\n                error.setCreatedAt(ZonedDateTime.now());\r\n                errorResponse.setError(error);\r\n                bookJson = jsonbObject.toJson(error);\r\n            }\r\n        }\r\n        response.setContentType(\"application/json\");\r\n        response.setCharacterEncoding(\"UTF-8\");\r\n        PrintWriter out = response.getWriter();\r\n        out.print(bookJson);\r\n        out.flush();\r\n    }\r\n\r\n}\r\n```\r\n\r\n#### Templates\r\n\r\nOur templates will be written in JSP.\r\n\r\nLet's create first **_templates_** folder under **_/webapp/WEB-INF_**. Under this new folder, we'll create four (4) folders - **_book_**, **_components_**, **_error_**, and **_includes_**.\r\n\r\nThe new structure of our Maven project:\r\n\r\n```\r\njava-web-app-with-embedded-tomcat\r\n└── src\r\n    └── main\r\n        └── java\r\n            └── io\r\n                └── github\r\n                    └── julianjupiter\r\n                        └── app\r\n                            └── controller\r\n                            └── domain\r\n                            └── repository\r\n                            └── server\r\n                            └── service\r\n                            └── util\r\n        └── resources\r\n        └── webapp\r\n            └── WEB-INF\r\n                └── templates\r\n                    └── book\r\n                    └── components\r\n                    └── error\r\n                    └── includes\r\n└── pom.xml\r\n```\r\n\r\n##### `includes`\r\n\r\nThese are the common parts of a page.\r\n\r\n###### `init.jsp`\r\n\r\n```markup\r\n<%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%>\r\n<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\r\n```\r\n\r\n###### `header.jsp`\r\n\r\n```markup\r\n<%@ include file=\"init.jsp\"%>\r\n<c:if test=\"${not empty param.pageName}\">\r\n    <c:set var=\"pageName\" value=\"${param.pageName}\" />\r\n</c:if>\r\n<!doctype html>\r\n<html lang=\"en\">\r\n    <head>\r\n        <meta charset=\"utf-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\r\n        <meta name=\"description\" content=\"\">\r\n        <meta name=\"author\" content=\"\">\r\n        <link rel=\"icon\" href=\"${pageContext.request.contextPath}/assets/images/favicon.ico\">\r\n        <title>${pageName} - Java Web Application with Embedded Tomcat</title>\r\n        <link rel=\"stylesheet\" href=\"${pageContext.request.contextPath}/assets/vendor/bootstrap/4.1.3/css/bootstrap.min.css\">\r\n        <link rel=\"stylesheet\" href=\"${pageContext.request.contextPath}/assets/css/main.css\">\r\n      </head>\r\n    <body>\r\n        <header>\r\n            <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n                <a class=\"navbar-brand\" href=\"#\">Java Web Application</a>\r\n                  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavAltMarkup\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                    <span class=\"navbar-toggler-icon\"></span>\r\n                  </button>\r\n                  <div class=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n                    <div class=\"navbar-nav\">\r\n                        <a class=\"nav-item nav-link<c:if test=\"${pageName == 'Home'}\"> active</c:if>\" href=\"${pageContext.request.contextPath}/\" alt=\"Home\">Home <span class=\"sr-only\">(current)</span></a>\r\n                          <a class=\"nav-item nav-link<c:if test=\"${pageName == 'Books'}\"> active</c:if>\" href=\"${pageContext.request.contextPath}/books\" alt=\"Books\">Books</a>\r\n                    </div>\r\n                  </div>\r\n            </nav>\r\n        </header>\r\n```\r\n\r\n###### `footer.jsp`\r\n\r\n```markup\r\n        <script src=\"${pageContext.request.contextPath}/assets/vendor/jquery/jquery-3.3.1.slim.min.js\"></script>\r\n        <script src=\"${pageContext.request.contextPath}/assets/vendor/popper.js/1.14.3/umd/popper.min.js\"></script>\r\n        <script src=\"${pageContext.request.contextPath}/assets/vendor/bootstrap/4.1.3/js/bootstrap.min.js\"></script>\r\n        <script src=\"${pageContext.request.contextPath}/assets/js/main.js\"></script>\r\n    </body>\r\n</html>\r\n```\r\n\r\n##### `error`\r\n\r\n#### `404.jsp`\r\n\r\n```markup\r\n<%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%>\r\n<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n        <meta charset=\"UTF-8\">\r\n        <title>Java Web Application with Embedded Tomcat</title>\r\n    </head>\r\n    <body>\r\n        <h1>Error 404, Page not found!</h1>\r\n    </body>\r\n</html>\r\n```\r\n\r\n##### `components`\r\n\r\nThese are components used by our pages - modal, table.\r\n\r\n###### `bookModal.jsp`\r\n\r\n```markup\r\n<div class=\"modal fade\" id=\"bookModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"bookModalLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                <h5 class=\"modal-title\" id=\"bookModalLabel\"></h5>\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n            </div>\r\n        </div>\r\n        </div>\r\n</div>\r\n```\r\n\r\n###### `viewBookTable.jsp`\r\n\r\n```markup\r\n<div id=\"viewBookTable\" class=\"table-responsive\" style=\"display:none;\">\r\n    <table class=\"table table-hover table-borderless\">\r\n        <tbody>\r\n            <tr>\r\n                <th class=\"text-right\" scope=\"row\">ID</th>\r\n                <td id=\"bookId\"></td>\r\n            </tr>\r\n            <tr>\r\n                <th class=\"text-right\" scope=\"row\">Title</th>\r\n                <td id=\"bookTitle\"></td>\r\n            </tr>\r\n            <tr>\r\n                <th class=\"text-right\" scope=\"row\">Edition</th>\r\n                <td id=\"bookEdition\"></td>\r\n            </tr>\r\n            <tr>\r\n                <th class=\"text-right\" scope=\"row\">ISBN</th>\r\n                <td id=\"bookIsbn\"></td>\r\n            </tr>\r\n            <tr>\r\n                <th class=\"text-right\" scope=\"row\">Author</th>\r\n                <td id=\"bookAuthor\"></td>\r\n            </tr>\r\n            <tr>\r\n                <th class=\"text-right\" scope=\"row\">Year Published</th>\r\n                <td id=\"bookYearPublished\"></td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n```\r\n\r\n##### `book`\r\n\r\nThis template will be used by our page pertaining to Book in our application.\r\n\r\n###### `list.jsp`\r\n\r\n```markup\r\n<%@ include file=\"/WEB-INF/templates/includes/header.jsp\"%>\r\n<div class=\"jumbotron jumbotron-fluid\">\r\n    <div class=\"container\">\r\n        <h1 class=\"display-4\">Java Web Application with Embedded Tomcat</h1>\r\n        <p class=\"lead\">This is a web application in Java which runs on embedded Apache Tomcat in the form of executable JAR (not WAR), called uber/fat JAR. Other dependencies, if any, are also included.</p>\r\n      </div>\r\n</div>\r\n<main>\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col\">\r\n                <table class=\"table table-hover\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th scope=\"col\">ID</th>\r\n                              <th scope=\"col\">Title</th>\r\n                              <th scope=\"col\">Edition</th>\r\n                              <th scope=\"col\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                      <tbody>\r\n                          <c:forEach var=\"book\" items=\"${books}\">\r\n                        <tr>\r\n                              <th scope=\"row\">${book.id}</th>\r\n                              <td>${book.title}</td>\r\n                              <td>${book.edition}</td>\r\n                              <td>\r\n                                  <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n                                    <button type=\"button\" class=\"btn btn-info\" data-toggle=\"modal\" data-target=\"#bookModal\" data-book-action=\"viewBook\" data-book-id=\"${book.id}\">View</button>\r\n                                </div>\r\n                              </td>\r\n                        </tr>\r\n                        </c:forEach>\r\n                      </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</main>\r\n<%@ include file=\"/WEB-INF/templates/components/bookModal.jsp\"%>\r\n<%@ include file=\"/WEB-INF/templates/components/viewBookTable.jsp\"%>\r\n<%@ include file=\"/WEB-INF/templates/includes/footer.jsp\"%>\r\n```\r\n\r\n#### Default Page\r\n\r\n##### `index.jsp`\r\n\r\nThis is the default page in our application if we access [http://localhost:8080/app](http://localhost:8080/app).\r\n\r\nRemember the **_index.jsp_** that we created earlier to test our application? We just need to modify that file.\r\n\r\n```markup\r\n<jsp:include page=\"/WEB-INF/templates/includes/header.jsp\">\r\n    <jsp:param value=\"Home\" name=\"pageName\"/>\r\n</jsp:include>\r\n        <div class=\"jumbotron jumbotron-fluid\">\r\n            <div class=\"container\">\r\n                <h1 class=\"display-4\">Java Web Application with Embedded Tomcat</h1>\r\n                <p class=\"lead\">This is a web application in Java which runs on embedded Apache Tomcat in the form of executable JAR (not WAR), called uber/fat JAR. Other dependencies, if any, are also included.</p>\r\n                <a type=\"button\" class=\"btn btn-primary btn-lg\" href=\"${pageContext.request.contextPath}/books\" alt=\"Books\">Books</a>\r\n            </div>\r\n        </div>\r\n<%@ include file=\"/WEB-INF/templates/includes/footer.jsp\"%>\r\n```\r\n\r\n#### Static Files\r\n\r\nOur pages will make use of JavaScript and CSS. It includes Bootstrap CSS framework, hence, the need to import them.\r\n\r\nLet's create **_assets_** folder under **_/webapp_**. Under this new folder, we'll create three (3) folders - **_css_**, **_js_**, and **_vendor_**.\r\n\r\nOur custom styling and JavaScript files will, obviously, be put inside **_css_** and **_js_** folders, respectively, while the third-party ones, Bootstrap, jQuery, Popper.js, will be in **_vendor_** folder.\r\n\r\nThe new structure of our Maven project:\r\n\r\n```\r\njava-web-app-with-embedded-tomcat\r\n└── src\r\n    └── main\r\n        └── java\r\n            └── io\r\n                └── github\r\n                    └── julianjupiter\r\n                        └── app\r\n                            └── controller\r\n                            └── domain\r\n                            └── repository\r\n                            └── server\r\n                            └── service\r\n                            └── util\r\n        └── resources\r\n        └── webapp\r\n            └── assets\r\n                └── css\r\n                └── js\r\n                └── vendor\r\n            └── WEB-INF\r\n                └── templates\r\n                    └── book\r\n                    └── components\r\n                    └── error\r\n                    └── includes\r\n└── pom.xml\r\n```\r\n\r\n###### `css`\r\n\r\n###### `main.css`\r\n\r\n```css\r\n.table-responsive {\r\n  display: table;\r\n}\r\n```\r\n\r\n##### `js`\r\n\r\n###### `main.js`\r\n\r\n```javascript\r\nlet modalTitle = $(\".modal-title\");\r\nlet modalBody = $(\".modal-body\");\r\nlet modalFooter = $(\".modal-footer\");\r\nlet closeBookModal = $(\r\n  '<button id=\"close-book-modal\" type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>'\r\n);\r\n\r\nfunction viewBook(bookModal, bookId) {\r\n  let viewBookTableHidden = $(\"#viewBookTable:hidden\");\r\n  $(bookModal).find(modalTitle).text(\"View Book\");\r\n  $(bookModal).find(modalBody).html(viewBookTableHidden.clone());\r\n  let viewBookTable = $(\"#viewBookTable\");\r\n  $(bookModal).find(viewBookTable).css(\"display\", \"block\");\r\n  $(bookModal).find(modalFooter).append(closeBookModal);\r\n\r\n  fetch(\"books?action=view&id=\" + bookId)\r\n    .then((response) => ({ status: response.status, data: response.json() }))\r\n    .then((response) => {\r\n      if (response.status == 200) {\r\n        response.data.then((value) => {\r\n          $(bookModal).find(\"#bookId\").text(value.id);\r\n          $(bookModal).find(\"#bookTitle\").text(value.title);\r\n          $(bookModal).find(\"#bookEdition\").text(value.edition);\r\n          $(bookModal).find(\"#bookIsbn\").text(value.isbn);\r\n          $(bookModal).find(\"#bookAuthor\").text(value.author);\r\n          $(bookModal).find(\"#bookYearPublished\").text(value.yearPublished);\r\n        });\r\n      } else if (response.status == 404) {\r\n        response.data.then((value) => {\r\n          $(bookModal).find(\".modal-body\").html(value.message);\r\n        });\r\n      } else {\r\n        $(bookModal)\r\n          .find(\".modal-body\")\r\n          .html(\"An unknown error occurred. Please contact Administrator.\");\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"Request failed\", error);\r\n      $(bookModal)\r\n        .find(\".modal-body\")\r\n        .html(\"An unknown error occurred. Please contact Administrator.\");\r\n    });\r\n}\r\n\r\nfunction clearModal(modal) {\r\n  $(modal).find(modalTitle).html(\"\");\r\n  $(modal).find(modalBody).html(\"\");\r\n  $(modal).find(modalFooter).html(\"\");\r\n}\r\n\r\n$(document).ready(() => {\r\n  $(\"#bookModal\")\r\n    .on(\"show.bs.modal\", function (event) {\r\n      var bookModal = $(this);\r\n      var button = $(event.relatedTarget);\r\n      var bookAction = button.data(\"book-action\");\r\n      var bookId = button.data(\"book-id\");\r\n\r\n      switch (bookAction) {\r\n        case \"addBook\":\r\n          addBook(bookModal);\r\n          break;\r\n\r\n        case \"viewBook\":\r\n          viewBook(this, bookId);\r\n          break;\r\n      }\r\n    })\r\n    .on(\"hidden.bs.modal\", function (event) {\r\n      clearModal(this);\r\n    });\r\n});\r\n```\r\n\r\n##### `vendor`\r\n\r\nFor the [Bootstrap](https://getbootstrap.com \"Bootstrap · The most popular HTML, CSS, and JS library in the world.\"), [jQuery](https://jquery.com/ \"jQuery\"), and [Popper.js](https://popper.js.org/ \"Popper - Tooltip & Popover Positioning Engine\"), you can download them from their respective sites.\r\n\r\nCheck **_header.jsp_** and **_footer.jsp_** files how these frameworks/libraries structured in our project.\r\n\r\n#### Re-build and Run our Application\r\n\r\nRun the following commands and open [http://localhost:8080/app](http://localhost/app) in our browser.\r\n\r\n```bash\r\n$ mvn clean package\r\n$ java -jar ./target/java-web-app-with-embedded-tomcat-1.0.0-SNAPSHOT.jar\r\n```\r\n\r\n#### Screenshots\r\n\r\n##### Home Page\r\n\r\n<br>\r\n<img class=\"img-fluid\" src=\"/assets/blog/java-web-application-with-embedded-tomcat/2.PNG\">\r\n<br>\r\n<br>\r\n\r\n##### List of Books\r\n\r\n<br>\r\n<img class=\"img-fluid\" src=\"/assets/blog/java-web-application-with-embedded-tomcat/3.PNG\">\r\n<br>\r\n<br>\r\n\r\n##### View a Book\r\n\r\n<br>\r\n<img class=\"img-fluid\" src=\"/assets/blog/java-web-application-with-embedded-tomcat/4.PNG\">\r\n<br>\r\n<br>\r\n\r\n#### Conclusion\r\n\r\nWe're able to create a Servlet application in which we use Embedded Tomcat Server. We build this application into a single JAR file, called Uber or Fat JAR.\r\n\r\nWith this, we no longer need a standalone web server to deploy our application to. We achieved this mechanism by using [Maven Shade Plugin](https://maven.apache.org/plugins/maven-shade-plugin/).\r\n\r\nYou can download complete source code **[here](https://github.com/julianjupiter/java-web-app-with-embedded-tomcat \"Java Web Application with Embedded Tomcat\")**.\r\n"},{"title":"How to Create Maven and Gradle Wrapper","excerpt":"This post walks you through how to create wrapper for Maven and Gradle build tools.","date":"Mon Aug 12 2019 08:00:00 GMT+0800 (Philippine Standard Time)","image":{"cover":"/assets/blog/how-to-create-maven-and-gradle-wrapper/cover.JPG","og":""},"slug":"how-to-create-maven-and-gradle-wrapper","content":"\r\n### Overview\r\n\r\nThis post walks you through how to create wrapper for Maven and Gradle build tools.\r\n\r\nWrapper is a script that invokes a declared version of Maven or Gradle. Developers can get up and running with a Maven or Gradle project quickly without installing them manually which saves a lot of time and building the projects become portable.\r\n\r\n### Maven Wrapper\r\n\r\n#### Install Maven\r\n\r\nIf you have not installed Maven already, download it from [http://maven.apache.org/download.cgi](http://maven.apache.org/download.cgi). You can choose either .zip or .tar.gz format. Once you have downloaded it, extract the package in a directory you prefer. On Windows, I installed it in `D:\\opt`.\r\n\r\nEdit system environement variables and add `MAVEN_HOME variable`. In order use `mvn` command in any directory while using **CMD** or **Terminal**, add also `%MAVEN_HOME%\\bin` to `PATH` variable.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/how-to-create-maven-and-gradle-wrapper/1.JPG\" alt=\"Add MAVEN_HOME variable\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/how-to-create-maven-and-gradle-wrapper/2.JPG\" alt=\"Add Maven to Path variable\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/how-to-create-maven-and-gradle-wrapper/3.JPG\" alt=\"Add Maven to Path variable\">\r\n\r\nYou can verify your Maven installation by running `mvn -v` command on **CMD**.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/how-to-create-maven-and-gradle-wrapper/4.JPG\" alt=\"Verify Maven installation\">\r\n\r\n#### Create Maven Wrapper\r\n\r\nWe are now going to generate wrapper. First go to your project root folder. Assuming your project is in `D:\\workspace\\projects\\my-app`:\r\n\r\n```bash\r\n  > D:\r\n  > cd workspace\\projects\\my-app\r\n  > mvn -N io.takari:maven:0.7.7:wrapper\r\n  D:\\workspace\\projects\\my-app>mvn -N io.takari:maven:0.7.7:wrapper\r\n  [INFO] Scanning for projects...\r\n  [INFO]\r\n  [INFO] ------------------< org.apache.maven:standalone-pom >-------------------\r\n  [INFO] Building Maven Stub Project (No POM) 1\r\n  [INFO] --------------------------------[ pom ]---------------------------------\r\n  [INFO]\r\n  [INFO] --- maven:0.7.7:wrapper (default-cli) @ standalone-pom ---\r\n  [INFO]\r\n  [INFO] Maven Wrapper version 0.5.6 has been successfully set up for your project.\r\n  [INFO] Using Apache Maven: 3.6.3\r\n  [INFO] Repo URL in properties file: https://repo.maven.apache.org/maven2\r\n  [INFO]\r\n  [INFO] ------------------------------------------------------------------------\r\n  [INFO] BUILD SUCCESS\r\n  [INFO] ------------------------------------------------------------------------\r\n  [INFO] Total time:  3.447 s\r\n  [INFO] Finished at: 2020-03-16T06:53:57+08:00\r\n  [INFO] ------------------------------------------------------------------------\r\n```\r\n\r\nIt should have generated a folder `.mvn` and commands `mvnw` for UNIX/Linux and `mvnw.cmd` for Windows. To check the generated wrapper:\r\n\r\n```bash\">\r\n> dir\r\n Volume in drive D is DATA\r\n Volume Serial Number is EC0A-13F8\r\n\r\n Directory of D:\\workspace\\projects\\my-app\r\n\r\n16/03/2020  06:53 AM    <DIR>          .\r\n16/03/2020  06:53 AM    <DIR>          ..\r\n16/03/2020  06:53 AM    <DIR>          .mvn\r\n16/03/2020  06:53 AM            10,069 mvnw\r\n16/03/2020  06:53 AM             6,607 mvnw.cmd\r\n               2 File(s)        16,676 bytes\r\n               3 Dir(s) 899,194,486,784 bytes free\r\n```\r\n\r\n### Gradle Wrapper\r\n\r\n#### Install Gradle\r\n\r\nIf you have not installed Gradle already, download it from [https://gradle.org/releases/](https://gradle.org/releases/). Choose `binary-only`. Once you have downloaded it, extract the package in a directory you prefer. On Windows, I installed it in `D:\\opt`.\r\n\r\nEdit system environement variables and add GRADLE_HOME variable. In order use `gradle` command in any directory while using **CMD** or **Terminal**, add also `%GRADLE_HOME%\\bin` to `PATH` variable.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/how-to-create-maven-and-gradle-wrapper/5.JPG\" alt=\"Add GRADLE_HOME variable\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/how-to-create-maven-and-gradle-wrapper/6.JPG\" alt=\"Add Gradle to Path variable\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/how-to-create-maven-and-gradle-wrapper/7.JPG\" alt=\"Add Gradle to Path variable\">\r\n\r\nYou can verify your Gradle installation by running `gradle -v` command on **CMD**.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/how-to-create-maven-and-gradle-wrapper/8.JPG\" alt=\"Verify Gradle installation\">\r\n\r\n#### Create Gradle Wrapper\r\n\r\nWe are now going to generate wrapper. In the same project, we can generate the wrapper: `D:\\workspace\\projects\\my-app`:\r\n\r\n```bash\r\n> gradle wrapper\r\nStarting a Gradle Daemon (subsequent builds will be faster)\r\n\r\nBUILD SUCCESSFUL in 22s\r\n1 actionable task: 1 executed\r\n```\r\n\r\nIt should have generated a folders `.gradle` and `gradle` and commands `gradlew` for UNIX/Linux and `gradlew.cmd` for Windows. To check the generated wrapper:\r\n\r\n```bash\r\n > dir\r\n Volume in drive D is DATA\r\n Volume Serial Number is EC0A-13F8\r\n\r\n Directory of D:\\workspace\\projects\\my-app\r\n\r\n16/03/2020  07:35 AM    <DIR>          .\r\n16/03/2020  07:35 AM    <DIR>          ..\r\n16/03/2020  07:35 AM    <DIR>          .gradle\r\n16/03/2020  06:53 AM    <DIR>          .mvn\r\n16/03/2020  07:35 AM    <DIR>          gradle\r\n16/03/2020  07:35 AM             5,305 gradlew\r\n16/03/2020  07:35 AM             2,269 gradlew.bat\r\n16/03/2020  06:53 AM            10,069 mvnw\r\n16/03/2020  06:53 AM             6,607 mvnw.cmd\r\n              4 File(s)         24,250 bytes\r\n              5 Dir(s) 899,193,925,632 bytes free\r\n```\r\n\r\nNote: `.gradle` is not required and should be excluded when pushing the codes to the repository.\r\n\r\n### Conclusion\r\n\r\nWhichever build system you are using, it is apparent that project build becomes easier as you would not need to install them manually. You can also easily distribute your project and so long as there is JDK installed in one's machine, building the project is extremely easy.\r\n"},{"title":"Java 8 New Language Features","excerpt":"This post discusses the new features introduced to Java 8 language.","date":"Sat Jul 06 2019 08:00:00 GMT+0800 (Philippine Standard Time)","image":{"cover":"","og":""},"slug":"java-8-new-language-features","content":"\r\n### Overview\r\n\r\nThis post discusses the new language features of **Java 8**. Java 8's release is the most awaited and is a major feature release of Java programming language.\r\n\r\nThese new features include **functional interfaces**, **interface default method**, **lambda expressions**, **method references**, **Optional**, and **Stream API**. We will also talk about some of **built-in functions** that implement Function Interface and the **New Date and Time API**.\r\n\r\n### Functional Interface\r\n\r\nFunctional Interface is an interface with **single abstract method (SAM)**. Static or the new default method is not counted. To indicate that an interface is a **Functional Interface**, annotation `@FunctionalInterface` on class level is needed. While an interface with SAM could still function as **Functional Interface** (qualified as lambda expression) even if it does not have such annotation (example is AWT's `ActionListener`), it is recommended that it be annotated.\r\n\r\nSome old built-in interfaces with SAM, such as `Comparator` and `Runnable`, have been annotated with `@FunctionalInterface` and can be used as lambda expressions.\r\n\r\n#### Example\r\n\r\n```java\r\n@FunctionalInterface\r\npublic interface Calculator {\r\n  long calculate(long x, long y);\r\n}\r\n```\r\n\r\nWe can implement above interface in two ways prior to Java 8.\r\n\r\n- Anonymous class\r\n\r\n  ```java\r\n  Calculator division = new Calculator() {\r\n    @Override\r\n    public long calculate(long x, long y) {\r\n      return x / y;\r\n    }\r\n  };\r\n\r\n  long quotient = division.calculate(10, 2);\r\n  ```\r\n\r\n- Concrete class\r\n\r\n  ```java\r\n  class Division implements Calculator {\r\n    @Override\r\n      public long calculate(long x, long y) {\r\n      return x / y;\r\n    }\r\n  }\r\n  ```\r\n\r\n  ```java\r\n  Calculator division = new Division() ;\r\n  long quotient = division.calculate(10, 2);\r\n  ```\r\n\r\nWith Java 8, there is a third way to to implement an interface and that is by using **Lambda Expressions**.\r\n\r\n### Lambda Expressions\r\n\r\nLambda expressions encapsulate a single unit of behavior and pass it to other code. To be able to create lambda expression, you need first a Funtional Interface. This is the reason why a Functional Interface has a single abstract method. Instead of an anonymous class, you can use lambda expression which is a concise alternative and shorthand replacement for it.\r\n\r\n#### Syntax\r\n\r\n```java\r\nparameter -> expression or statement body\r\n```\r\n\r\n#### Example\r\n\r\n```java\r\n(Integer x) -> { return x; };\r\n```\r\n\r\n#### Characteristics of Lambda Expression\r\n\r\n1. Optional type declaration\r\n\r\n```java\r\n(x) -> { return x; };\r\n```\r\n\r\n2. Optional parentheses<br>\r\n\r\n```java\r\nx -> { return x; };\r\n```\r\n\r\nParentheses are required if there are multiple parameters. Parameters are separated by comma (`,`).\r\n\r\n```java\r\n(x, y) -> { return x + y; };\r\n```\r\n\r\n3. Optional curly braces (`{}`) and optional `return` keyword\r\n\r\n```java\r\nx -> x;\r\n```\r\n\r\nCurly braces are required if body has multiple statements. `return` keyword is required for a function with return value if body has multiple statements. No `return` keyword is required if function does not return a value as in regular method.\r\n\r\n```java\r\nx -> {\r\n  System.out.println(\"Hello world!\");\r\n  return x;\r\n};\r\n```\r\n\r\n```java\r\nx -> {\r\n  System.out.println(\"Hello world!\");\r\n  System.out.println(\"Welcome to Java 8 Programming!\");\r\n};\r\n```\r\n\r\nRemember our `Calculator` interface? Here is how to implement it using lambda expression:\r\n\r\n```java\r\nCalculator multiplication = (a, b) -> a * b;    // or (a, b) -> Math.multiplyExact(a, b);\r\nCalculator division = (a, b) -> a / b;\r\nCalculator addition = (a, b) -> a + b;          // or (a, b) -> Math.addExact(a, b);\r\nCalculator subtraction = (a, b) -> a - b;       // or (a, b) -> Math.subtractExact(a, b);\r\n\r\nlong product = multiplication.calculate(5, 5);\r\nlong quotient = division.calculate(10, 2);\r\nlong sum = addition.calculate(5, 5);\r\nlong difference = subtraction.calculate(10, 4);\r\n```\r\n\r\n### Built-in Functions\r\n\r\nJava 8 ships 43 built-in functions under `java.util.function` package. **Thirty eight** (**38**) of them are specialization for primitive and other functions.\r\n\r\nThe following are the basic functions:\r\n\r\n1. `Function`\r\n2. `Consumer`\r\n3. `Supplier`\r\n4. `Predicate`\r\n\r\n#### Function\r\n\r\nFunction represents a function that accepts one argument and produces a result. The type parameter `T` represents the type of the input to the function while the second one R represents the type of result. The functonal method of this functional interface is `apply(Object)`.\r\n\r\n```java\r\n@FunctionalInterface\r\npublic interface Function<T,R>\r\n```\r\n\r\n##### Examples\r\n\r\nBelow is an example of Function that accepts a String argument and returns a String.\r\n\r\n```java\r\nFunction<String, String> f1 = a -> a;\r\nString message = f1.apply(\"Welcome to Java 8!\");\r\n```\r\n\r\nThis one accepts a String argument and returns an integer.\r\n\r\n```java\r\nFunction<String, Integer> f2 = a -> a.length();\r\nint textLength = f2.apply(\"Welcome to Java 8!\");\r\n```\r\n\r\n#### Consumer\r\n\r\nConsumer represents an operation that accepts a single input argument and returns no result. The type parameter `T` represents the type of the input to the operation. The functonal method of this functional interface is `accept(Object)`.\r\n\r\n```java\r\n@FunctionalInterface\r\npublic interface Consumer<T>\r\n```\r\n\r\n##### Examples\r\n\r\nBoth accept String input argument and returns no value.\r\n\r\n```java\r\nConsumer<String> c1 = a -> System.out.println(a);\r\nc1.accept(\"Welcome to Java 8!\");\r\n\r\nConsumer<String> c2 = a -> {\r\n  String message = \"Welcome to \" + a + \"!\";\r\n  System.out.println(message);\r\n};\r\nc2.accept(\"Java 8\");\r\n```\r\n\r\n#### Supplier\r\n\r\nSupplier Represents a supplier of results. The type parameter `T` represents the type of results supplied by the supplier. This is a functional interface whose functional method is `get()`.\r\n\r\n```java\r\n@FunctionalInterface\r\npublic interface Supplier<T>\r\n```\r\n\r\n##### Examples\r\n\r\nThis example returns a value of String type.\r\n\r\n```java\r\nSupplier<String> stringSupplier = () -> \"Welcome to Java 8!\";\r\nString message = stringSupplier.get();\r\n```\r\n\r\nAnd this one returns a value of User type.\r\n\r\n```java\r\nSupplier<User> userSupplier = () -> new User();\r\nUser user = userSupplier.get();\r\n```\r\n\r\n#### Predicate\r\n\r\nPredicate represents a predicate (boolean-valued function) of one argument. The type parameter `T` represents the type of the input to the predicate. This is a functional interface whose functional method is `test(Object)`.\r\n\r\n```java\r\n@FunctionalInterface\r\npublic interface Predicate<T>\r\n```\r\n\r\n##### Examples\r\n\r\nTo check if argument is equal to \"YES\" regardless of case:\r\n\r\n```java\r\nPredicate<String> answerPredicate = a -> \"YES\".equalsIgnoreCase(a);\r\nboolean isYes = answerPredicate.test(\"Yes\");\r\n```\r\n\r\nTo check if person is of legal age (18 and above):\r\n\r\n```java\r\npublic static Predicate<Integer> isLegalAge() {\r\n  return age -> age >= 18;\r\n}\r\n```\r\n\r\n```java\r\nboolean legalAge = isLegalAge().test(18);\r\n```\r\n\r\n#### Built-in Functions - Specialization\r\n\r\nOther built-in functions are specializations for primitive types and for basic or another specialization functions.\r\n\r\nTo check all other built-in functions, please visit this <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html\" target=\"blank\">Javadoc</a>.\r\n\r\n#### Existing Interface - Comparator\r\n\r\n`Comparator` is an existing interface in Java since version 1.2. This interface has a single abstract method, `compare(T o1, T o2)`, and, therefore, can be used as lambda expression similar to functions added to Java 8.\r\n\r\nPrior to Java 8, we would use <span class=\"inline-code\">Comparator</span> in sorting a collection the following way:\r\n\r\n```java\r\nList<String> choices = Arrays.asList(\"c\", \"a\", \"d\", \"b\", \"e\");\r\n\r\nCollections.sort(choices, new Comparator<String>() {\r\n  @Override\r\n  public int compare(String a, String b) {\r\n    return a.compareTo(b);\r\n  }\r\n});\r\n```\r\n\r\nWith Java 8:\r\n\r\n```java\r\nComparator<String> comparator = (a, b) -> a.compareTo(b);\r\nCollections.sort(choices, comparator);\r\n```\r\n\r\n```java\r\nCollections.sort(choices, (String a, String b) -> {\r\n  return a.compareTo(b);\r\n});\r\n```\r\n\r\n```java\r\nCollections.sort(choices, (String a, String b) -> a.compareTo(b));\r\n```\r\n\r\n```java\r\nCollections.sort(choices, (a, b) -> a.compareTo(b));\r\n```\r\n\r\n### Default Methods\r\n\r\nDefault methods enable you to add new functionality to the interfaces of your libraries and ensure binary compatibility with code written for older versions of those interfaces. They are interface methods that have an implementation, similar to static methods, and the `default` keyword at the beginning of the method signature.\r\n\r\n#### Syntax</h4>\r\n\r\n```java\r\ndefault type methodName(type parameter) {\r\n  body\r\n}\r\n```\r\n\r\nFor example, default method `forEach()` was added to `Iterable` interface. This method takes a `Consumer` argument and performs action for each element (similar to enhanced `for-each` construct). `List` interface which extends `Iterable` can now be used with `forEach()` method:\r\n\r\n```java\r\nList<String> days = Arrays.asList(\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\");\r\ndays.forEach(day -> System.out.println(day));\r\n```\r\n\r\n#### Example\r\n\r\n```java\r\npublic interface Calculator {\r\n  double calculate(double number);\r\n\r\n  default double sqrt(double number) {\r\n    return Math.sqrt(number);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\nCalculator sc = x -> x * x;\r\ndouble square = sc.calculate(10.0); // 100.0\r\ndouble sqrt = sc.sqrt(square);      // 10.0\r\n```\r\n\r\n### Method References\r\n\r\nJava 8 enables you to pass references of methods or constructors via the :: keyword. Method references are compact, easy-to-read lambda expressions for methods that already have a name. They are preferred over lambda expression if the expression does nothing but calls an existing method.\r\n\r\n#### Syntax\r\n\r\n```java\r\nReference::methodName\r\n```\r\n\r\n#### Types of Method References\r\n\r\n<table class=\"table table-bordered table-striped\">\r\n    <thead>\r\n        <tr>\r\n            <th scope=\"col\">Type</th>\r\n            <th scope=\"col\">Example</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        <tr>\r\n            <th scope=\"row\">Reference to a static method</th>\r\n            <td>ContainingClass::staticMethodName</td>\r\n        </tr>\r\n        <tr>\r\n            <th scope=\"row\">Reference to an instance method of a particular object</th>\r\n            <td>containingObject::instanceMethodName</td>\r\n        </tr>\r\n        <tr>\r\n            <th scope=\"row\">Reference to an instance method of an arbitrary object of a particular type</th>\r\n            <td>ContainingType::methodName</td>\r\n        </tr>\r\n        <tr>\r\n            <th scope=\"row\">Reference to a constructor</th>\r\n            <td>ClassName::new</td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n\r\n#### Example\r\n\r\n##### Reference to a static method\r\n\r\n1. Example 1\r\n\r\n```java\r\nclass Person {\r\n  private LocalDate birthday;\r\n\r\n  public Person() {}\r\n\r\n  public Person(LocalDate birthday) {\r\n    this.birthday = birthday;\r\n  }\r\n\r\n  // setters, getters\r\n\r\n  public static int compareByAge(Person a, Person b) {\r\n    return a.birthday.compareTo(b.birthday);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\nPerson p1 = new Person(LocalDate.of(2000, 6, 21));\r\nPerson p2 = new Person(LocalDate.of(2000, 6, 15));\r\nPerson p3 = new Person(LocalDate.of(1998, 3, 28));\r\nPerson[] persons = {p1, p2, p3};\r\n```\r\n\r\nLambda Expression\r\n\r\n```java\r\nArrays.sort(persons, (p1, p2) -> Person.compareByAge(p1, p2));\r\n```\r\n\r\nMethod Reference\r\n\r\n```java\r\nArrays.sort(persons, Person::compareByAge);\r\n```\r\n\r\n1. Example 2\r\n\r\n```java\r\n@FunctionalInterface\r\npublic interface StringToIntConverter {\r\n  int convert(String string);\r\n}\r\n```\r\n\r\nLambda Expression\r\n\r\n```java\r\nStringToIntConverter converter = s -> Integer.valueOf(s);\r\nint i = converter.convert(\"10\");\r\n```\r\n\r\nMethod Reference\r\n\r\n```java\r\nStringToIntConverter converter = Integer::valueOf;\r\nint i = converter.convert(\"10\");\r\n```\r\n\r\n##### Reference to an instance method of a particular object\r\n\r\n1. Example 1\r\n\r\n```java\r\npublic class Something {\r\n  public int getYear(LocalDate localDate) {\r\n    return localDate.getYear();\r\n  }\r\n}\r\n```\r\n\r\nLambda Expression\r\n\r\n```java\r\nSomething something = new Something();\r\nFunction<LocalDate, Integer> f = d -> something.getYear(d);\r\nint year = f.apply(p1.getBirthday());\r\n```\r\n\r\nMethod Reference\r\n\r\n```java\r\nSomething something = new Something();\r\nFunction<LocalDate, Integer> f = something::getYear;\r\nint year = f.apply(p1.getBirthday());\r\n```\r\n\r\n2. Example 2\r\n\r\n```java\r\npublic interface PersonDao {\r\n  Person findById(int id);\r\n}\r\n```\r\n\r\nLambda Expression\r\n\r\n```java\r\nPersonDao personDao = new PersonDaoImpl();\r\nFunction<Integer, Person> f = id -> personDao.findById(id);\r\nPerson person = f.apply(1);\r\n```\r\n\r\nMethod Reference\r\n\r\n```java\r\nPersonDao personDao = new PersonDaoImpl();\r\nFunction<Integer, Person > f = personDao::findById;\r\nPerson person = f.apply(1);\r\n```\r\n\r\n##### Reference to an instance method of an arbitrary object of a particular type\r\n\r\n1. Example 1\r\n\r\nLambda Expression\r\n\r\n```java\r\nFunction<String, String> f = s -> s.toUpperCase();\r\nString httpGet = f.apply(\"get\");\r\n```\r\n\r\nMethod Reference\r\n\r\n```java\r\nFunction<String, String> f = String::toUpperCase;\r\nString httpGet = f.apply(\"get\");\r\n```\r\n\r\n2. Example 2\r\n\r\nLambda Expression\r\n\r\n```java\r\nPerson person = ...\r\nFunction<Person, LocalDate> f = p -> p.getBirthday();\r\nLocalDate birthday = f.apply(person);\r\n```\r\n\r\nMethod Reference\r\n\r\n```java\r\nPerson person = ...\r\nFunction<Person, LocalDate> f = Person::getBirthday;\r\nLocalDate birthday = f.apply(person);\r\n```\r\n\r\n##### Reference to a constructor</h5>\r\n\r\n1. Example 1\r\n\r\nLambda Expression\r\n\r\n```java\r\nFunction<LocalDate, Person> f = d -> new Person(d);\r\nLocalDate birthday = LocalDate.of(2000, 10, 12);\r\nPerson person = f.apply(birthday);\r\n```\r\n\r\nMethod Reference\r\n\r\n```java\r\nFunction<LocalDate, Person> f = Person::new;\r\nLocalDate birthday = LocalDate.of(2000, 10, 12);\r\nPerson person = f.apply(birthday);\r\n```\r\n\r\n2. Example 2\r\n\r\nLambda Expression\r\n\r\n```java\r\nSupplier<Person> s = () -> new Person();\r\nPerson person = s.get();\r\n```\r\n\r\nMethod Reference\r\n\r\n```java\r\nSupplier<Person> s = Person::new;\r\nPerson person = s.get();\r\n```\r\n\r\n### When to Use Nested Classes, Local Classes, Anonymous Classes, and Lambda Expressions\r\n\r\n- Local class - Use it if you need to create more than one instance of a class, access its constructor, or introduce a new, named type (because, for example, you need to invoke additional methods later).\r\n- Anonymous class - Use it if you need to declare fields or additional methods.\r\n- Lambda expression or Method reference\r\n  - Use it if you are encapsulating a single unit of behavior that you want to pass to other code. For example, you would use a lambda expression if you want a certain action performed on each element of a collection, when a process is completed, or when a process encounters an error.\r\n  - Use it if you need a simple instance of a functional interface and none of the preceding criteria apply (for example, you do not need a constructor, a named type, fields, or additional methods).\r\n- Nested class\r\n\r\n  - Use it if your requirements are similar to those of a local class, you want to make the type more widely available, and you don't require access to local variables or method parameters.\r\n  - Use a non-static nested class (or inner class) if you require access to an enclosing instance's non-public fields and methods. Use a static nested class if you don't require this access.\r\n\r\n### Optional\r\n\r\n- `null` reference is the source of many problems because it is often used to denote the absence of a value\r\n- Java SE 8 introduces a new class called `java.util.Optional` that can alleviate some of these problems.\r\n- Thus, `Optional` object is a container object which may or may not contain a non-null value.\r\n- If a value is present, `isPresent()` will return true and `get()` will return the value.\r\n\r\n#### How to create Optional objects?\r\n\r\n- Empty Optional\r\n\r\n  ```java\r\n  Optional<String> msgOptional = Optional.empty();\r\n  ```\r\n\r\n- Optional with non-null value\r\n\r\n  ```java\r\n  String message = “Welcome to Java 8!”;\r\n  Optional<String> msgOptional = Optional.of(message);\r\n  ```\r\n\r\n  If `message` were `null`, a `NullPointerException` would immediately be thrown, rather than getting a latent error once you try to access properties of the `message` String object.\r\n\r\n- Optional object that may hold a null value\r\n\r\n  ```java\r\n  String message = null;\r\n  Optional<String> msgOptional = Optional.ofNullable(message);\r\n  ```\r\n\r\nIf `message` were `null`, the resulting `Optional` object would be empty (`Optional.empty()`) and would not throw `NullPointerException`.\r\n\r\n#### Check Value Presence and Do Action\r\n\r\n- `isPresent()`\r\n\r\n  - Returns `true` if the wrapped value is not `null`\r\n\r\n    ```java\r\n    Optional<String> msgOptional = …;\r\n    if (msgOptional.isPresent()) {\r\n      System.out.println(msgOptional.get());\r\n    }\r\n    ```\r\n\r\n    Before `Optional`, we would do:\r\n\r\n    ```java\r\n    String message = …;\r\n    if (message != null) {\r\n      System.out.println(message);\r\n    }\r\n    ```\r\n\r\n- `ifPresent()`\r\n\r\n  - Allows to run some codes if it returns `true`; takes a `Consumer` function which takes the object being checked as an argument.\r\n\r\n    ```java\r\n    Optional<String> msgOptional = …;\r\n    msgOptional.ifPresent(m -> System.out.println(m));\r\n    ```\r\n\r\n    Or\r\n\r\n    ```java\r\n    msgOptional.ifPresent(System.out::println);\r\n    ```\r\n\r\n- `orElse()`\r\n\r\n  - Retrieves value wrapped inside an `Optional` object if it is present and its argument otherwise.\r\n\r\n    ```java\r\n    Optional<String> msgOptional = …;\r\n    String message = msgOptional.orElse(“Welcome!”);\r\n    ```\r\n\r\n    Before `Optional`, we would do:\r\n\r\n    ```java\r\n    String message = …;\r\n    String msg = message != null ? Message : “Welcome!”;\r\n    ```\r\n\r\n- `orElseGet()`\r\n\r\n  - Similar to `orElse()`, it retrieves value wrapped inside an `Optional` object if it is present and its argument otherwise, however, it takes its default value from a `Supplier` which is invoked and returns the value of invocation.\r\n\r\n    ```java\r\n    Optional<String> msgOptional = …;\r\n    String message = msgOptional.orElseGet(() -> “Welcome!”);\r\n    ```\r\n\r\n- `orElseThrow()`\r\n\r\n  - Similar to `orElse()` and `orElseGet()`, it retrieves value wrapped inside an `Optional` object if it is present and its argument otherwise. Instead of returning a default value when wrapped value is not present, it throws an exception.\r\n\r\n    ```java\r\n    Optional<String> messageOptional = …;\r\n    String message = messageOptional.orElseThrow(() -> new IllegalArgumentException());\r\n    ```\r\n\r\n    Or\r\n\r\n    ```java\r\n    Optional<String> messageOptional = …;\r\n    String message = messageOptional.orElseThrow(IllegalArgumentException::new);\r\n    ```\r\n\r\n- `get()`\r\n\r\n  - Can only return value if it is present, otherwise, it returns `NoSuchElementException`.\r\n\r\n    ```java\r\n    Optional<String> messageOptional = …;\r\n    String message = messageOptional.get();\r\n    ```\r\n\r\n    Make sure to be defensive against possible `NoSuchElementException` when using this method:\r\n\r\n    ```java\r\n    String message = messageOptional.isPresent() ? messageOptional.get() : “Welcome!”;\r\n    ```\r\n\r\n- `filter()`\r\n\r\n  - If a value is present, and the value matches the given predicate, return an `Optional` describing the value, otherwise return an empty `Optional`.\r\n\r\n    Example\r\n\r\n    ```java\r\n    Optional<String> answerOptional = Optional.of(“YES”)\r\n        .filter(b -> b.equalsIgnorecase(“yes”));\r\n    ```\r\n\r\n  - If a value is present, and the value matches the given predicate, return an `Optional` describing the value, otherwise return an empty `Optional`.\r\n\r\n    Example\r\n\r\n    ```java\r\n    LocalDate birthday = LocalDate.of(2000, 7, 23);\r\n    Optional<LocalDate> legalAgeOptional1 = Optional.of(birthday)\r\n        .filter(this::isLegalAge);\r\n    ```\r\n\r\n    ```java\r\n    public boolean isLegalAge(LocalDate birthday) {\r\n      LocalDate currentDate = LocalDate.now(); // 2019-5-24\r\n      Period interval = Period.between(birthday, currentDate);\r\n\r\n      return interval.getYears() > 17;\r\n    }\r\n    ```\r\n\r\n    Above code will return `Optional` with a LocalDate value since filter meets the predicate.\r\n\r\n- `map()`\r\n\r\n  - Transforms value - if a value is present, apply the provided mapping function to it, and if the result is non-null, return an `Optional` describing the result. Otherwise return an empty `Optional`.\r\n\r\n    Example 1\r\n\r\n    ```java\r\n    List<String> frameworks = Arrays.asList(\"Spring\", “Spring Fu”, \"Quarkus\", \"Micronaut\", \"Play\", \"Struts\", \"Spark\", \"Summer Fun\");\r\n    Optional<List<String>> listOptional = Optional.of(frameworks);\r\n    int size = listOptional\r\n        .map(List::size) // Lambda expression .map(list -> list.size())\r\n        .orElse(0);\r\n    ```\r\n\r\n    Above code will return an integer value since mapping function is to get the size of `List`.\r\n\r\n    Example 2\r\n\r\n    ```java\r\n    class Person {\r\n      public Optional<String> getName() {\r\n        return Optional.of(\"Digong\");\r\n      }\r\n    }\r\n    ```\r\n\r\n    ```java\r\n    Person person = new Person();\r\n    Optional<Person> personOptional = Optional.of(person);\r\n    Optional<Optional<String>> nameOptionalWrapper = personOptional.map(Person::getName);\r\n    Optional<String> nameOptional = nameOptionalWrapper.orElse(Optional.empty());\r\n    String name = nameOptional.orElse(\"\");\r\n    ```\r\n\r\n    With `.map()`, we still need to get `Optional` that wraps another `Optional` (line 3). Then, `.orElse()`, line 4, gets the `Optional` wrapped in `Optional`. Finally, the last `.orElse()` extracts the name value.\r\n\r\n- `flatMap()`\r\n\r\n  - If a value is present, apply the provided `Optional`-bearing mapping function to it, return that result, otherwise return an empty `Optional`. This method is similar to `map()`, but the provided mapper is one whose result is already an `Optional`, and if invoked, `flatMap()` does not wrap it with an additional `Optional`.\r\n\r\n    ```java\r\n    Person person = new Person();\r\n    Optional<Person> personOptional = Optional.of(person);\r\n    Optional<String> nameOptional = personOptional.flatMap(Person::getName);\r\n    // Lambda expression: personOptional.flatMap(p -> p.getName());\r\n    String name = nameOptional.orElse(\"\");\r\n    ```\r\n\r\n    `.flatMap()` already returns the `Optional` wrapped in another `Optional`. We have saved a single line.\r\n\r\n### Stream API\r\n\r\n- A sequence of elements supporting sequential and parallel aggregate operations.\r\n- Collections in Java 8 are extended so you can simply create streams either by calling `Collection.stream()` or `Collection.parallelStream()`\r\n- `Stream` operations are either **intermediate** or **terminal**\r\n  - **Intermediate operations** return the `Stream` itself so you can chain multiple method calls in a row\r\n    - `filter`\r\n    - `sorted`\r\n    - `map`\r\n  - **Terminal operations** return a result of a certain type\r\n    - `forEach`\r\n    - `allMatch`\r\n    - `findFirst`\r\n    - `count`\r\n    - `reduce`\r\n    - `collect`\r\n\r\n#### Stream - filter()\r\n\r\nReturns a stream consisting of the elements of this stream that match the given predicate.\r\n\r\nExample:\r\n\r\n```java\r\nList<String> frameworks = new ArrayList<>();\r\nframeworks.add(\"Spring\");\r\nframeworks.add(\"Spring Fu\");\r\nframeworks.add(\"Quarkus\");\r\nframeworks.add(\"Micronaut\");\r\nframeworks.add(\"Play\");\r\nframeworks.add(\"Struts\");\r\nframeworks.add(\"Spark\");\r\nframeworks.add(\"Summer Fun\");\r\n\r\nList<String> frameworks = frameworks();\r\nList<String> frameworksStartWithS = frameworks.stream()\r\n        .filter(framework -> framework.startsWith(\"S\"))\r\n        .collect(Collectors.toList());\r\n```\r\n\r\n#### Stream - sorted()\r\n\r\nReturns a stream consisting of the elements of this stream, sorted according to natural order.\r\n\r\nExample\r\n\r\n```java\r\nList<String> frameworks = frameworks();\r\nList<String> frameworksSorted = frameworks.stream()\r\n        .sorted()\r\n        .collect(Collectors.toList());\r\n\r\n// reversed\r\nList<String> frameworksReversed = frameworks.stream()\r\n        .sorted(Collections.reverseOrder())\r\n        .collect(Collectors.toList());\r\n```\r\n\r\n#### Stream - map()\r\n\r\nReturns a stream consisting of the results of applying the given function to the elements of this stream.\r\n\r\nExample\r\n\r\n```java\r\nList<String> frameworks = frameworks();\r\n```\r\n\r\nLambda Expression\r\n\r\n```java\r\nList<String> frameworksToUpperCase = frameworks.stream()\r\n        .map(framework -> framework.toUpperCase())\r\n        .collect(Collectors.toList());\r\n```\r\n\r\nMethod Reference\r\n\r\n```java\r\nList<String> frameworksToUpperCase = frameworks.stream()\r\n        .map(String::toUpperCase)\r\n        .collect(Collectors.toList());\r\n```\r\n\r\n#### Stream - forEach()\r\n\r\nReturns an iterator over elements.\r\n\r\nExample\r\n\r\n```java\r\nList<String> frameworks = frameworks();\r\n```\r\n\r\nLambda Expression\r\n\r\n```java\r\nframeworks.forEach(framework -> System.out.println(framework));\r\n```\r\n\r\nMethod Reference\r\n\r\n```java\r\nframeworks.forEach(System.out::println);\r\n```\r\n\r\n#### Stream - allMatch()\r\n\r\nReturns whether all elements of this stream match the provided predicate.\r\n\r\nExample\r\n\r\n```java\r\nList<String> frameworks = frameworks();\r\nboolean allMatched = frameworks.stream()\r\n        .allMatch(framework -> framework.split(\" \").length > 1);\r\n```\r\n\r\n#### Stream - findFirst()\r\n\r\nReturns whether all elements of this stream match the provided predicate.\r\n\r\nExample\r\n\r\n```java\r\nList<String> frameworks = frameworks();\r\nOptional<String> frameworkOptional = frameworks.stream()\r\n        .filter(framework -> framework.contains(\"Fund\"))\r\n        .findFirst();\r\n```\r\n\r\n#### Stream - count()\r\n\r\nReturns the count of elements in this stream.\r\n\r\nExample\r\n\r\n```java\r\nList<String> frameworks = frameworks();\r\nlong countAll = frameworks.stream()\r\n        .count();\r\nlong countStartsWithS = frameworks.stream()\r\n        .filter(framework -> framework.startsWith(\"S\"))\r\n        .count();\r\n```\r\n\r\n#### Stream - reduce()\r\n\r\nPerforms a reduction on the elements of this stream, using an associative accumulation function, and returns an Optional describing the reduced value, if any.\r\n\r\nExample\r\n\r\n```java\r\nInteger[] grades = {90, 85, 92, 98, 88, 93};\r\nOptional<Integer> totalOptional = Stream.of(grades)\r\n        .reduce((g1, g2) -> g1 + g2);\r\ntotalOptional.ifPresent(System.out::println);\r\n```\r\n\r\n#### Stream - collect()\r\n\r\nPerforms a mutable reduction operation on the elements of this stream using a Collector. A Collector encapsulates the functions used as arguments to collect(Supplier, BiConsumer, BiConsumer), allowing for reuse of collection strategies and composition of collect operations such as multiple-level grouping or partitioning.\r\n\r\nExample 1\r\n\r\n```java\r\nInteger[] grades = {90, 85, 92, 98, 88, 93};\r\nList<Integer> gradeList = Stream.of(grades)\r\n        .filter(grade -> grade > 89)\r\n        .collect(Collectors.toList());\r\n```\r\n\r\nExample 2\r\n\r\n```java\r\nList<User> users = Arrays.asList(\r\nnew User(\"John\", \"ADMIN\"),\r\nnew User(\"Luke\", \"USER\"),\r\nnew User(\"Matthew\", \"USER\"),\r\nnew User(\"Mark\", \"USER\"),\r\nnew User(\"Paul\", \"ADMIN\"));\r\n\r\nMap<String, User> userMap = users.stream()\r\n        .collect(Collectors.toMap(User::getRole, user -> user));\r\n```\r\n\r\n### New Date and Time API\r\n\r\n- The Date-Time APIs, introduced in JDK 8, are a set of packages that model the most important aspects of date and time\r\n- The core classes in the java.time package use the calendar system defined in **ISO-8601** (based on the Gregorian calendar system) as the default calendar.\r\n  - `java.time` - Classes for date, time, date and time combined, time zones, instants, duration, and clocks.\r\n  - `java.time.chrono` - API for representing calendar systems other than ISO-8601. Several predefined chronologies are provided and you can also define your own chronology.\r\n  - `java.time.format` - Classes for formatting and parsing dates and time.\r\n  - `java.time.temporal` - Extended API, primarily for framework and library writers, allowing interoperations between the date and time classes, querying, and adjustment. Fields and units are defined in this package.\r\n  - `java.time.zone` - Classes that support time zones, offsets from time zones, and time zone rules. on the Gregorian calendar system) as the default calendar.\r\n- Old Date API\r\n  - Existing classes aren’t thread-safe, leading to potential concurrency issues for users—not something the average developer would expect to deal with when writing date-handling code.\r\n  - Some of the date and time classes also exhibit quite poor API design. For example, years in `java.util.Date` start at 1900, months start at 1, and days start at 0—not very intuitive.\r\n  - These issues, and several others, have led to the popularity of third-party date and time libraries, such as Joda-Time.\r\n\r\nThe project, **Date and Time API**, has been led jointly by the author of **Joda-Time** (**Stephen Colebourne**) and Oracle, under **JSR 310**, and appears in the new Java SE 8 package `java.time`.\r\n\r\n#### New Date and Time API - Clock\r\n\r\n**Clock**\r\n\r\n- A clock providing access to the current instant, date and time using a time-zone.\r\n\r\nExample\r\n\r\n```java\r\nClock clock = Clock.systemDefaultZone();\r\nlong millis = clock.millis();\r\n\r\nInstant instant = clock.instant();\r\nDate legacyDate = Date.from(instant);\r\n```\r\n\r\n#### New Date and Time API - Timezone\r\n\r\n**ZoneId**\r\n\r\n- A time-zone ID, such as `Asia/Manila`. A `ZoneId` is used to identify the rules used to convert between, an `Instant` and a `LocalDateTime`.\r\n\r\nExample\r\n\r\n```java\r\nSet<ZoneId> availableZoneIds = ZoneId.getAvailableZoneIds();\r\n```\r\n\r\n```java\r\nZoneId zone1 = ZoneId.of(\"Asia/Manila\");\r\nZoneId zone2 = ZoneId.of(\"Europe/Paris\");\r\nSystem.out.println(zone1.getRules());   // ZoneRules[currentStandardOffset=+08:00]\r\nSystem.out.println(zone2.getRules());   // ZoneRules[currentStandardOffset=+01:00]\r\n```\r\n\r\n#### New Date and Time API - LocalTime\r\n\r\n**LocalTime**\r\n\r\n- A time without a time-zone in the ISO-8601 calendar system, such as `08:24:15`.\r\n\r\nExample\r\n\r\n```java\r\nZoneId zone1 = ZoneId.of(\"Asia/Manila\");\r\nZoneId zone2 = ZoneId.of(\"Europe/Paris\");\r\nLocalTime now1 = LocalTime.now(zone1);\r\nLocalTime now2 = LocalTime.now(zone2);\r\n\r\nSystem.out.println(now1.isBefore(now2));  // false\r\n\r\nlong hoursBetween = ChronoUnit.HOURS.between(now1, now2);\r\nlong minutesBetween = ChronoUnit.MINUTES.between(now1, now2);\r\n\r\nSystem.out.println(hoursBetween);       // -6\r\nSystem.out.println(minutesBetween);     // -360\r\n```\r\n\r\n#### New Date and Time API - LocalDate\r\n\r\n**LocalDate**\r\n\r\n- A date without a time-zone in the ISO-8601 calendar system, such as `2019-05-24`.\r\n\r\nExample\r\n\r\n```java\r\nLocalDate today = LocalDate.now();\r\nLocalDate tomorrow = today.plus(1, ChronoUnit.DAYS);\r\nLocalDate yesterday = tomorrow.minusDays(2);\r\n\r\nLocalDate independenceDay = LocalDate.of(2019, Month.MAY, 24);\r\nDayOfWeek dayOfWeek = independenceDay.getDayOfWeek();\r\nSystem.out.println(dayOfWeek);    // FRIDAY\r\n```\r\n\r\n#### New Date and Time API - LocalDateTime\r\n\r\n**LocalDateTime**\r\n\r\n- A date-time without a time-zone in the ISO-8601 calendar system, such as `2019-05-24T08:24:15`.\r\n\r\nExample\r\n\r\n```java\r\nLocalDateTime ldt = LocalDateTime.of(2019, Month.MAY, 24, 14, 55, 59);\r\n\r\nDayOfWeek dayOfWeek = ldt.getDayOfWeek();\r\nSystem.out.println(dayOfWeek);      // FRIDAY\r\n\r\nMonth month = ldt.getMonth();\r\nSystem.out.println(month);          // MAY\r\n\r\nlong minuteOfDay = ldt.getLong(ChronoField.MINUTE_OF_DAY);\r\nSystem.out.println(minuteOfDay);    // 895\r\n```\r\n\r\n---\r\n\r\n# References\r\n\r\n1. https://docs.oracle.com/javase/8/docs/technotes/guides/language/enhancements.html#javase8\r\n2. https://www.tutorialspoint.com/java8/index.htm\r\n3. https://winterbe.com/posts/2014/03/16/java-8-tutorial/\r\n4. https://www.oracle.com/technetwork/articles/java/java8-optional-2175753.html\r\n5. https://www.baeldung.com/java-optional\r\n6. https://www.baeldung.com/java-8-streams\r\n7. https://docs.oracle.com/javase/8/docs/technotes/guides/datetime/index.html\r\n"},{"title":"Installation of PHP 7 on Windows 10","excerpt":"Step-by-step setup of PHP 7 on Windows 10.","date":"Thu Dec 07 2017 08:00:00 GMT+0800 (Philippine Standard Time)","image":{"cover":"/assets/blog/installation-of-php-7-on-windows-10/cover.PNG","og":"/assets/blog/installation-of-php-7-on-windows-10/cover.PNG"},"slug":"installation-of-php-7-on-windows-10","content":"\r\nThis is a step-by-step setup of PHP 7 on Windows 10.\r\n\r\n1. Download PHP package from [PHP website](http://windows.php.net/download). The latest version as of this time is `7.2.0`. Choose `VC15 x64 Thread Safe` or `VC15 x86 Thread Safe for 64-bit` or `32-bit` OS. In my case, I downloaded the [former](http://windows.php.net/downloads/releases/php-7.2.0-nts-Win32-VC15-x64.zip \"VC15 x86 Thread Safe\").\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/installation-of-php-7-on-windows-10/1.PNG\" alt=\"VC15 x86 Thread Safe\">\r\n\r\n2. Extract the package to `C:\\php`.\r\n\r\n3. Inside php directory, make a copy of `php.ini-development` and rename it to `php.ini`.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/installation-of-php-7-on-windows-10/2.PNG\" alt=\"PHP Ini\")\r\n\r\n4. Open `php.ini` and uncomment the following (_line 732_):\r\n\r\n```ini\r\n; extension_dir = \"ext\"\r\n```\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/installation-of-php-7-on-windows-10/3.PNG\" alt=\"Extension Directory\">\r\n\r\n5.  Add `php.exe` to `Environment Variables's Path`. To add, look for `Path` under `System variables` and click `Edit...` button. Click New button and enter `C:\\php`.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/installation-of-php-7-on-windows-10/4a.PNG\" alt=\"Setting Environment Variables Path\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/installation-of-php-7-on-windows-10/4b.PNG\" alt=\"Setting Environment Variables Path\">\r\n\r\n6. To test, create a directory: `C:\\workspace\\php`. Open your favorite text editor (mine is **Visual Studio Code**). Add the following codes to a file saved as `hello.php` inside `C:\\workspace\\php`:\r\n\r\n```php\r\n<?php\r\n\r\necho \"Hello, world!\";\r\n```\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/installation-of-php-7-on-windows-10/5.PNG\" alt=\"Test PHP\">\r\n\r\n7. Open CMD and cd to `C:\\workspace\\php`. Run the following command:\r\n\r\n```bash\r\nphp -S localhost:3000 -t .\r\n```\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/installation-of-php-7-on-windows-10/6.PNG\" alt=\"PHP Built-in Web Server\">\r\n\r\nFrom PHP site:\r\n\r\n> _As of PHP 5.4.0, the CLI SAPI provides a built-in web server._\r\n\r\n> _This web server was designed to aid application development. It may also be useful for testing purposes or for application demonstrations that are run in controlled environments. It is not intended to be a full-featured web server. It should not be used on a public network._\r\n\r\n8. Open your browser and point to `http://localhost:3000/hello.php`\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/installation-of-php-7-on-windows-10/7.PNG\" alt=\"Open PHP script on browser\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/installation-of-php-7-on-windows-10/8.PNG\" alt=\"PHP Built-in Web Server console log\">\r\n\r\n9. Enable extension you want to use. For example, most likely you will be developing database-driven web applications and you'd want to use [MySQL](https://www.mysql.com/ \"MySQL\"), the world's most popular open-source DBMS. Install MySQL first if you haven't done so. Then, open `php.ini` and uncomment either or both of the following:\r\n\r\n```ini\r\nextension=mysqli\r\n...\r\nextension=pdo_mysql\r\n```\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/installation-of-php-7-on-windows-10/9.PNG\" alt=\"Enable MySQL extensions\">\r\n\r\nIf you've configured a web server Apache HTTP Server for PHP, you will have to restart it's service for the changes to take effect. As for PHP built-in web server, just run it again.\r\n\r\nTo test PHP and MySQL connection, you can create a PHP script and call the built-in `phpinfo()` function to display PHP environment. You should be able to see `php_pdo` included under PDO.\r\n\r\n```php\r\n<?php\r\necho phpinfo();\r\n```\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/installation-of-php-7-on-windows-10/10.PNG\" alt=\"PHP phpinfo() built-in function\">\r\n\r\nYou might also want to create script which creates connection to your database already created in the server.\r\n\r\n```php\r\n<?php\r\n\r\n$dbProvider = 'mysql';\r\n$dbHost = 'localhost';\r\n$dbPort = '3306';\r\n$dbSchema = 'mydb';\r\n$dbCharSet = 'utf-8';\r\n$dbUser = 'julez';\r\n$dbPassword = 'admin';\r\n$dns = $dbProvider . ':host=' . $dbHost . ';port=' . $dbPort . ';dbname=' . $dbSchema . ';char-set='. $dbCharSet;\r\n$connection = new PDO($dns, $dbUser, $dbPassword);\r\n\r\nif ($connection) {\r\n    echo 'Database connected!';\r\n} else {\r\n    die('Unable to connect to databese!');\r\n}\r\n```\r\n\r\nSave it as `php_pdo_mysql_test.php` and load to your browser.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/installation-of-php-7-on-windows-10/11.PNG\" alt=\"PHP PDO MySQL connection\">\r\n\r\nIt's done!\r\n\r\nPlease post your comments or suggestions.\r\n"},{"title":"Step-by-step Installation of Ubuntu Server 16.04 LTS","excerpt":"Step-by-step tutorial about installation of Ubuntu Server 16.04 LTS.","date":"Sun May 01 2016 08:00:00 GMT+0800 (Philippine Standard Time)","image":{"cover":"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/cover.png","og":"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/cover.png"},"slug":"step-by-step-installation-of-ubuntu-server-16-04-lts","content":"\r\nFirst, download the current version of **[Ubuntu Server](http://www.ubuntu.com)**. Currently, it's **16.04 LTS** (always choose an LTS version). A 64-bit version is recommended. A 32-bit version is available though.\r\n\r\nAfter downloading the ISO image, you need to create a bootable CD/DVD or USB flash. If you have already done so, put the disc in your drive, or insert the USB flash, and reboot your machine. BIOS must be set up to boot either from the CD/DVD or USB flash depending on which installation method you choose.\r\n\r\nFollow the steps shown in the images below.\r\n\r\n1. Select language of OS.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/1.png\" alt=\"Select language of OS.\">\r\n\r\n2. Install Ubuntu Server.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/2.png\" alt=\"Install Ubuntu Server.\">\r\n\r\n3. Select language of installation process.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/3.png\" alt=\"Select language of installation process.\">\r\n\r\n4. Select your location.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/4.png\" alt=\"Select your location.\">\r\n\r\n5. Configure the keyboard.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/5a.png\" alt=\"Configure the keyboard.\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/5b.png\" alt=\"Configure the keyboard.\">\r\n\r\n6. Detect hardware - CD-ROM drives.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/6.png\" alt=\"Detect hardware - CD-ROM drives.\">\r\n\r\n7. Loading additional component.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/7.png\" alt=\"Additional component.\">\r\n\r\n8. Detecting network hardware.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/8.png\" alt=\"Detecting network hardware.\">\r\n\r\n9. Attempting IPv6 autoconfiguration.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/9.png\" alt=\"Attempting IPv6 autoconfiguration.\">\r\n\r\n10. Configuring the network with DHCP.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/10.png\" alt=\"Configuring the network with DHCP.\">\r\n\r\n11. Configure the network.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/11.png\" alt=\"Configure the network.\">\r\n\r\n12. Set up the users and passwords.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/12a.png\" alt=\"Set up the users and passwords.\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/12b.png\" alt=\"Set up the users and passwords.\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/12c.png\" alt=\"Set up the users and passwords.\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/12d.png\" alt=\"Set up the users and passwords.\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/12e.png\" alt=\"Set up the users and passwords.\">\r\n\r\n13. Settting up the clock.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/13.png\" alt=\"Settting up the clock.\">\r\n\r\n14. Configure the clock.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/14.png\" alt=\"Configure the clock.\">\r\n\r\n15. Detecting disks and all other hardware.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/15.png\" alt=\"Detecting disks and all other hardware.\">\r\n\r\n16. Partition Disks.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/16a.png\" alt=\"Partition Disks.\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/16b.png\" alt=\"Partition Disks.\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/16c.png\" alt=\"Partition Disks.\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/16d.png\" alt=\"Partition Disks.\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/16e.png\" alt=\"Partition Disks.\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/16f.png\" alt=\"Partition Disks.\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/16g.png\" alt=\"Partition Disks.\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/16h.png\" alt=\"Partition Disks.\">\r\n\r\n17. Installing the system.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/17.png\" alt=\"Installing the system.\">\r\n\r\n18. Configure the package manager.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/18.png\" alt=\"Configure the package manager.\">\r\n\r\n19. Configuring apt.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/19.png\" alt=\"Configuring apt.\">\r\n\r\n20. Configuring tasksel.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/20.png\" alt=\"Configuring tasksel.\">\r\n\r\n21. Software selection.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/21.png\" alt=\"Software selection.\">\r\n\r\n22. Select and install software.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/22.png\" alt=\"Select and install software.\">\r\n\r\n23. Install the GRUB boot loader on a hard disk.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/23a.png\" alt=\"Install the GRUB boot loader on a hard disk.\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/23b.png\" alt=\"Install the GRUB boot loader on a hard disk.\">\r\n\r\n24. Finishing the installation.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/24a.png\" alt=\"Finishing the installation.\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/24b.png\" alt=\"Finishing the installation.\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/24c.png\" alt=\"Finishing the installation.\">\r\n\r\n25. Reboot and login on the server.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/25a.png\" alt=\"Reboot and login on the server.\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/25b.png\" alt=\"Reboot and login on the server.\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/25c.png\" alt=\"Reboot and login on the server.\">\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/step-by-step-installation-of-ubuntu-server-16-04-lts/25d.png\" alt=\"Reboot and login on the server.\">\r\n\r\nIt's done!\r\n\r\nPlease post your comments or suggestions.\r\n"},{"title":"CRUD in Spring Boot with Spring Data JPA","excerpt":"Tutorial about CRUD operations in Spring Boot with Spring Data JPA.","keywords":["Java","Spring Boot","Spring Data JPA","CRUD"],"date":"Mon Apr 11 2016 08:00:00 GMT+0800 (Philippine Standard Time)","image":{"cover":"/assets/blog/crud-in-spring-boot-with-spring-data-jpa/cover.png","og":"/assets/blog/crud-in-spring-boot-with-spring-data-jpa/cover.png"},"slug":"crud-in-spring-boot-with-spring-data-jpa","content":"\r\nTutorial about CRUD operations in Spring Boot with Spring Data JPA. Application developed in this tutorial performs adding, editing, updating and deleting contacts.\r\n\r\nWe will be using the following to successfully create our application in this tutorial:\r\n\r\n- Spring Web (Spring MVC, Spring Web MVC, a lot)\r\n- MySQL\r\n- Spring Data JPA (JPA, Hibernate)\r\n- Thymeleaf - template engine; bye JSP!\r\n- Many more, more than 50. With just a few lines in our pom.xml, let Spring Boot provide everything.\r\n\r\n## Create A Project\r\n\r\nGo to [Spring Intializr](https://start.spring.io \"Spring Initializr\") and create a Maven project.\r\n\r\n<img class=\"img-fluid\" src=\"/assets/blog/crud-in-spring-boot-with-spring-data-jpa/1.png\" alt=\"Create Project in Spring Initializr\">\r\n<br>\r\n<br>\r\n\r\nOnce done, hit **Generate Project** button to save the project.\r\n\r\nUnzip the project and start coding. You can use any editor or IDE you prefer. For Eclipse users, you will have to issue the following command via Terminal before importing to Eclipse:\r\n\r\n```bash\r\n$ cd springbootcrud\r\n$ mvn eclipse:eclipse\r\n```\r\n\r\nFor NetBeans users, just click `File > Open Project...` or click `Open Project` toolbar, and locate where you unzipped the project. NetBeans natively suports Maven project, no conversion needed.\r\n\r\n## Dependencies\r\n\r\nUpdadte your `pom.xml`:\r\n\r\n```markup\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n\txsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n\t<modelVersion>4.0.0</modelVersion>\r\n\r\n\t<groupId>io.github.julianjupiter</groupId>\r\n\t<artifactId>springbootcrud</artifactId>\r\n\t<version>0.0.1</version>\r\n\t<packaging>jar</packaging>\r\n\r\n\t<name>CRUD in Spring Boot with Spring Data JPA</name>\r\n\t<description>CRUD in Spring Boot with Spring Data JPA</description>\r\n\r\n\t<parent>\r\n\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t<artifactId>spring-boot-starter-parent</artifactId>\r\n\t\t<version>1.3.3.RELEASE</version>\r\n\t\t<relativePath/> <!-- lookup parent from repository -->\r\n\t</parent>\r\n\r\n\t<properties>\r\n\t\t<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\r\n\t\t<java.version>1.8</java.version>\r\n\t</properties>\r\n\r\n\t<dependencies>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-starter-data-jpa</artifactId>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-starter-thymeleaf</artifactId>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-starter-web</artifactId>\r\n\t\t</dependency>\r\n\r\n\t\t<dependency>\r\n\t\t\t<groupId>mysql</groupId>\r\n\t\t\t<artifactId>mysql-connector-java</artifactId>\r\n\t\t\t<scope>runtime</scope>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-starter-test</artifactId>\r\n\t\t\t<scope>test</scope>\r\n\t\t</dependency>\r\n\t</dependencies>\r\n\r\n\t<build>\r\n\t\t<plugins>\r\n\t\t\t<plugin>\r\n\t\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t\t<artifactId>spring-boot-maven-plugin</artifactId>\r\n\t\t\t</plugin>\r\n\t\t</plugins>\r\n\t</build>\r\n\r\n</project>\r\n\r\n```\r\n\r\n## Database Table\r\n\r\nCreate database in MySQL. Mine is `springbootcrud`. Add the following table:\r\n\r\n```sql\r\nCREATE TABLE `contact` (\r\n`id` int(11) NOT NULL AUTO_INCREMENT,\r\n`last_name` varchar(100) NOT NULL,\r\n`first_name` varchar(100) NOT NULL,\r\n`mobile_no` varchar(11) NOT NULL,\r\n`address` varchar(255) NOT NULL,\r\n`date_created` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\nPRIMARY KEY (`id`)\r\n) ENGINE=InnoDB DEFAULT CHARSET=latin1;\r\n```\r\n\r\n## Codes\r\n\r\n### Property\r\n\r\nInsert the following to `application.properties`\r\n\r\n```properties\r\nspring.datasource.url = jdbc:mysql://localhost:3306/springbootcrud\r\nspring.datasource.username = root\r\nspring.datasource.password = admin123\r\n```\r\n\r\n### Configuration\r\n\r\n`RepositoryConfiguration.java`\r\n\r\n```java\r\npackage io.github.julianjupiter.springbootcrud.configuration;\r\n\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\nimport org.springframework.boot.orm.jpa.EntityScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\n@Configuration\r\n@EnableAutoConfiguration\r\n@EntityScan(basePackages = {\"io.github.julianjupiter.springbootcrud.domain\"})\r\n@EnableJpaRepositories(basePackages = {\"io.github.julianjupiter.springbootcrud.repository\"})\r\n@EnableTransactionManagement\r\npublic class RepositoryConfiguration {\r\n}\r\n```\r\n\r\n### Main Class\r\n\r\n`Application.java`\r\n\r\n```java\r\npackage io.github.julianjupiter;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n}\r\n```\r\n\r\n### Domain\r\n\r\n`Contact.java`\r\n\r\n```java\r\npackage io.github.julianjupiter.springbootcrud.domain;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.validation.constraints.Size;\r\nimport org.hibernate.validator.constraints.NotEmpty;\r\n\r\n@Entity\r\npublic class Contact {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n    @NotEmpty(message = \"Last Name is required.\")\r\n    @Size(min = 2, message = \"Last Name must be at least 2 characters.\")\r\n    private String lastName;\r\n    @NotEmpty(message = \"First Name is required.\")\r\n    @Size(min = 2, message = \"First Name must be at least 2 characters.\")\r\n    private String firstName;\r\n    @Column(name = \"mobile_no\")\r\n    @Size(min = 11, max = 11, message = \"Mobile no. must be 11 digits.\")\r\n    private String mobileNumber;\r\n    @NotEmpty(message = \"Address is required.\")\r\n    private String address;\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getMobileNumber() {\r\n        return mobileNumber;\r\n    }\r\n\r\n    public void setMobileNumber(String mobileNumber) {\r\n        this.mobileNumber = mobileNumber;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n}\r\n```\r\n\r\n### Repository\r\n\r\n`ContactRepository.java`\r\n\r\n```java\r\npackage io.github.julianjupiter.springbootcrud.repository;\r\n\r\nimport io.github.julianjupiter.springbootcrud.domain.Contact;\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\npublic interface ContactRepository extends CrudRepository<Contact, Integer>{\r\n\r\n}\r\n```\r\n\r\n### Service\r\n\r\n`ContactService.java`\r\n\r\n```java\r\npackage io.github.julianjupiter.springbootcrud.service;\r\n\r\nimport io.github.julianjupiter.springbootcrud.domain.Contact;\r\n\r\npublic interface ContactService {\r\n    Iterable<Contact> getAllContacts();\r\n    Contact getContactById(Integer id);\r\n    Contact saveContact(Contact contact);\r\n    void deleteContact(Integer id);\r\n}\r\n```\r\n\r\n`ContactServiceImpl.java`\r\n\r\n```java\r\npackage io.github.julianjupiter.springbootcrud.service;\r\n\r\nimport io.github.julianjupiter.springbootcrud.domain.Contact;\r\nimport io.github.julianjupiter.springbootcrud.repository.ContactRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class ContactServiceImpl implements ContactService {\r\n\r\n    private ContactRepository contactRepository;\r\n\r\n    @Autowired\r\n    public void setContactRepository(ContactRepository contactRepository) {\r\n        this.contactRepository = contactRepository;\r\n    }\r\n\r\n    @Override\r\n    public Iterable<Contact> getAllContacts() {\r\n        return this.contactRepository.findAll();\r\n    }\r\n\r\n    @Override\r\n    public Contact getContactById(Integer id) {\r\n        return this.contactRepository.findOne(id);\r\n    }\r\n\r\n    @Override\r\n    public Contact saveContact(Contact contact) {\r\n        return this.contactRepository.save(contact);\r\n    }\r\n\r\n    @Override\r\n    public void deleteContact(Integer id) {\r\n        this.contactRepository.delete(id);\r\n    }\r\n\r\n}\r\n```\r\n\r\n### Controllers\r\n\r\n`HomeController.java`\r\n\r\n```java\r\npackage io.github.julianjupiter.springbootcrud.controller;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\npublic class HomeController {\r\n    @RequestMapping(value = { \"\", \"/\", \"/home\" })\r\n    public String index(Model model) {\r\n        model.addAttribute(\"activePage\", \"home\");\r\n        return \"index\";\r\n    }\r\n}\r\n```\r\n\r\n`ContactController.java`\r\n\r\n```java\r\npackage io.github.julianjupiter.springbootcrud.controller;\r\n\r\nimport io.github.julianjupiter.springbootcrud.domain.Contact;\r\nimport io.github.julianjupiter.springbootcrud.service.ContactService;\r\nimport javax.validation.Valid;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\n\r\n@Controller\r\n@RequestMapping(\"/contacts\")\r\npublic class ContactController {\r\n    private ContactService contactService;\r\n\r\n    @Autowired\r\n    public void setContactService(ContactService contactService) {\r\n        this.contactService = contactService;\r\n    }\r\n\r\n    @RequestMapping(value = { \"\", \"/\" })\r\n    public String index(Model model) {\r\n        model.addAttribute(\"activePage\", \"contacts\");\r\n        model.addAttribute(\"contacts\", this.contactService.getAllContacts());\r\n        return \"contacts/index\";\r\n    }\r\n\r\n    @RequestMapping(value = \"/add\", method = RequestMethod.GET)\r\n    public String addContactForm(Contact contact, Model model) {\r\n        model.addAttribute(\"activePage\", \"contacts\");\r\n        return \"contacts/add\";\r\n    }\r\n\r\n    @RequestMapping(value = \"/add\", method = RequestMethod.POST)\r\n    public String addContact(@Valid Contact contact, BindingResult bindingResult, Model model) {\r\n        if (bindingResult.hasErrors()) {\r\n            model.addAttribute(\"activePage\", \"contacts\");\r\n            return \"contacts/add\";\r\n        }\r\n\r\n        this.contactService.saveContact(contact);\r\n        return \"redirect:/contacts\";\r\n    }\r\n\r\n    @RequestMapping(value = \"/view/{id}\")\r\n    public String viewContact(@PathVariable Integer id, Model model) {\r\n        model.addAttribute(\"contact\", this.contactService.getContactById(id));\r\n        model.addAttribute(\"activePage\", \"contacts\");\r\n        return \"contacts/view\";\r\n    }\r\n\r\n    @RequestMapping(value = \"/edit/{id}\")\r\n    public String editContact(@PathVariable Integer id, Model model) {\r\n        model.addAttribute(\"contact\", this.contactService.getContactById(id));\r\n        model.addAttribute(\"activePage\", \"contacts\");\r\n        return \"contacts/edit\";\r\n    }\r\n\r\n    @RequestMapping(value = \"/update\", method = RequestMethod.POST)\r\n    public String updateContact(Contact contact) {\r\n        System.out.println(\"Contact ID: \" + contact.getId());\r\n        this.contactService.saveContact(contact);\r\n        return \"redirect:/contacts/view/\" + contact.getId();\r\n    }\r\n\r\n    @RequestMapping(value = \"/delete/{id}\", method = RequestMethod.GET)\r\n    public String deleteContact(@PathVariable Integer id) {\r\n        this.contactService.deleteContact(id);\r\n        return \"redirect:/contacts\";\r\n    }\r\n\r\n}\r\n```\r\n\r\n## Views\r\n\r\n### Fragments\r\n\r\n`templates/fragments/head.html`\r\n\r\n```markup\r\n<!DOCTYPE html>\r\n<html xmlns:th=\"http://www.thymeleaf.org\">\r\n    <head>\r\n        <link href=\"../static/css/bootstrap.min.css\" th:href=\"@{/css/bootstrap.min.css}\" rel=\"stylesheet\" media=\"screen\" />\r\n        <link href=\"../static/css/app.css\" th:href=\"@{/css/app.css}\" rel=\"stylesheet\" media=\"screen\" />\r\n    </head>\r\n    <body>\r\n    </body>\r\n</html>\r\n```\r\n\r\n`templates/fragments/header.html`\r\n\r\n```markup\r\n<!DOCTYPE html>\r\n<html xmlns:th=\"http://www.thymeleaf.org\">\r\n    <head></head>\r\n    <body>\r\n        <nav class=\"navbar navbar-inverse navbar-fixed-top\">\r\n            <div class=\"container\">\r\n                <div class=\"navbar-header\">\r\n                    <button type=\"button\" class=\"navbar-toggle collapsed\"\r\n                            data-toggle=\"collapse\" data-target=\"#navbar\" aria-expanded=\"false\"\r\n                            aria-controls=\"navbar\">\r\n                        <span class=\"sr-only\">Toggle navigation</span> <span\r\n                            class=\"icon-bar\"></span> <span class=\"icon-bar\"></span> <span\r\n                            class=\"icon-bar\"></span>\r\n                    </button>\r\n                    <a class=\"navbar-brand\" href=\"#\" th:href=\"@{/}\">Spring Boot</a>\r\n                </div>\r\n                <div id=\"navbar\" class=\"collapse navbar-collapse\">\r\n                    <ul class=\"nav navbar-nav\">\r\n                        <li th:class=\"${activePage == 'home'}? 'active' : ''\"><a href=\"#\" th:href=\"@{/}\">Home</a></li>\r\n                        <li th:class=\"${activePage} == 'contacts'? 'active' : ''\"><a href=\"#\" th:href=\"@{/contacts}\">Contacts</a></li>\r\n                    </ul>\r\n                </div>\r\n                <!--/.nav-collapse -->\r\n            </div>\r\n        </nav>\r\n    </body>\r\n</html>\r\n```\r\n\r\n`templates/fragments/js.html`\r\n\r\n```markup\r\n<!DOCTYPE html>\r\n<html xmlns:th=\"http://www.thymeleaf.org\">\r\n    <head></head>\r\n    <body>\r\n        <script src=\"../static/js/jquery.min.js\" th:src=\"@{/js/jquery.min.js}\"></script>\r\n        <script src=\"../static/js/bootstrap.min.js\" th:src=\"@{/js/bootstrap.min.js}\"></script>\r\n    </body>\r\n</html>\r\n```\r\n\r\n### Home\r\n\r\n`templates/index.html`\r\n\r\n```markup\r\n<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n        <meta charset=\"UTF-8\" />\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n        <title>Home - CRUD in Spring Boot with Spring Data JPA</title>\r\n        <!--/*/ <th:block th:include=\"fragments/head :: head\"></th:block> /*/-->\r\n    </head>\r\n    <body>\r\n        <!--/*/ <th:block th:include=\"fragments/header :: body\"></th:block> /*/-->\r\n        <div class=\"container\">\r\n            <div class=\"starter-template\">\r\n                <h1>CRUD in Spring Boot with Spring Data JPA</h1>\r\n                <p class=\"lead\">This application demonstrates CRUD application developed with Spring Boot, Spring Data JPA, Thymeleaf and MySQL.<br />\r\n                    <a href=\"/contacts\" class=\"btn btn-primary btn-lg\">Contacts</a>\r\n                </p>\r\n            </div>\r\n        </div>\r\n        <!--/*/ <th:block th:include=\"fragments/js :: body\"></th:block> /*/-->\r\n    </body>\r\n</html>\r\n```\r\n\r\n### Contacts\r\n\r\n`templates/contact/index.html`\r\n\r\n```markup\r\n<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n        <meta charset=\"UTF-8\" />\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n        <title>Contacts - CRUD in Spring Boot with Spring Data JPA</title>\r\n        <!--/*/ <th:block th:include=\"fragments/head :: head\"></th:block> /*/-->\r\n    </head>\r\n    <body>\r\n        <!--/*/ <th:block th:include=\"fragments/header :: body\"></th:block> /*/-->\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-sm-10 col-sm-offset-1\">\r\n                    <div class=\"panel panel-default\">\r\n                        <!-- Default panel contents -->\r\n                        <div class=\"panel-heading\">Contacts <a th:href=\"@{/contacts/add}\" class=\"btn btn-primary\"><span class=\"glyphicon glyphicon-plus\" aria-hidden=\"true\"></span></a></div>\r\n                        <table class=\"table\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>ID</th>\r\n                                    <th>Last Name</th>\r\n                                    <th>First Name</th>\r\n                                    <th>Mobile No.</th>\r\n                                    <th>Address</th>\r\n                                    <th>Action</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            <div th:if=\"!${#lists.isEmpty(contacts)}\">\r\n                                <tr th:each = \"contact : ${contacts}\">\r\n                                    <td th:text = \"${contact.id}\"></td>\r\n                                    <td th:text = \"${contact.lastName}\"></td>\r\n                                    <td th:text = \"${contact.firstName}\"></td>\r\n                                    <td th:text = \"${contact.mobileNumber}\"></td>\r\n                                    <td th:text = \"${contact.address}\"></td>\r\n                                    <td>\r\n                                        <div class=\"btn-group\" role=\"group\" aria-label=\"...\">\r\n                                            <a th:href=\"${'/contacts/view/' + contact.id}\" class=\"btn btn-info\"><span class=\"glyphicon glyphicon-eye-open\" aria-hidden=\"true\"></span></a>\r\n                                            <a th:href=\"${'/contacts/edit/' + contact.id}\" class=\"btn btn-success\"><span class=\"glyphicon glyphicon-edit\" aria-hidden=\"true\"></span></a>\r\n                                            <a th:href=\"${'/contacts/delete/' + contact.id}\" class=\"btn btn-danger\"><span class=\"glyphicon glyphicon-remove\" aria-hidden=\"true\"></span></a>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            </div>\r\n                            <div th:if=\"${#lists.isEmpty(contacts)}\">\r\n                                <tr>\r\n                                    <td>No contact exists!</td>\r\n                                </tr>\r\n                            </div>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!--/*/ <th:block th:include=\"fragments/js :: body\"></th:block> /*/-->\r\n        <script src=\"../static/js/app.js\" th:src=\"@{/js/app.js}\"></script>\r\n    </body>\r\n</html>\r\n```\r\n\r\n`templates/contact/add.html`\r\n\r\n```markup\r\n<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n        <meta charset=\"UTF-8\" />\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n        <title>Contacts - CRUD in Spring Boot with Spring Data JPA</title>\r\n        <!--/*/ <th:block th:include=\"fragments/head :: head\"></th:block> /*/-->\r\n    </head>\r\n    <body>\r\n        <!--/*/ <th:block th:include=\"fragments/header :: body\"></th:block> /*/-->\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-sm-8 col-sm-offset-2\">\r\n                    <!--<div class=\"container\">-->\r\n                    <div class=\"panel panel-default\">\r\n                        <!-- Default panel contents -->\r\n                        <div class=\"panel-heading\">Add Contact</div>\r\n                        <div class=\"panel-body\">\r\n                            <form action=\"/contacts/add\" th:action=\"@{/contacts/add}\" th:object=\"${contact}\" method=\"post\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"inputLastName\">Last Name</label>\r\n                                    <input type=\"text\" class=\"form-control\" id=\"inputLastName\" placeholder=\"Last Name\" th:field=\"*{lastName}\" name=\"lastName\" />\r\n                                    <span  class=\"help-block\" th:if=\"${#fields.hasErrors('lastName')}\" th:errors=\"*{lastName}\">Last Name Error</span>\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"inputFirstName\">First Name</label>\r\n                                    <input type=\"text\" class=\"form-control\" id=\"inputFirstName\" placeholder=\"First Name\" th:field=\"*{firstName}\" name=\"firstName\" />\r\n                                    <span  class=\"help-block\" th:if=\"${#fields.hasErrors('firstName')}\" th:errors=\"*{firstName}\">First Name Error</span>\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"inputMobileNumber\">Mobile Number</label>\r\n                                    <input type=\"text\" class=\"form-control\" id=\"inputMobileNumber\" placeholder=\"Mobile No.\" th:field=\"*{mobileNumber}\" name=\"mobileNumber\" />\r\n                                    <span  class=\"help-block\" th:if=\"${#fields.hasErrors('mobileNumber')}\" th:errors=\"*{mobileNumber}\">Mobile Number Error</span>\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"inputAddress\">Address</label>\r\n                                    <input type=\"text\" class=\"form-control\" id=\"inputAddress\" placeholder=\"Address\" th:field=\"*{address}\" name=\"address\" />\r\n                                    <span  class=\"help-block\" th:if=\"${#fields.hasErrors('address')}\" th:errors=\"*{address}\">Address Error</span>\r\n                                </div>\r\n                                <div class=\"text-right\">\r\n                                    <a href=\"/contacts\" th:href=\"@{/contacts}\" class=\"btn btn-default\">Cancel</a>\r\n                                    <button type=\"submit\" class=\"btn btn-primary\">Save</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                        <div class=\"panel-footer\">\r\n                        </div>\r\n                    </div>\r\n                    <!--</div>-->\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!--/*/ <th:block th:include=\"fragments/js :: body\"></th:block> /*/-->\r\n        <script src=\"../static/js/app.js\" th:src=\"@{/js/app.js}\"></script>\r\n    </body>\r\n</html>\r\n```\r\n\r\n`templates/contact/view.html`\r\n\r\n```markup\r\n<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n        <meta charset=\"UTF-8\" />\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n        <title>Contacts - CRUD in Spring Boot with Spring Data JPA</title>\r\n        <!--/*/ <th:block th:include=\"fragments/head :: head\"></th:block> /*/-->\r\n    </head>\r\n    <body>\r\n        <!--/*/ <th:block th:include=\"fragments/header :: body\"></th:block> /*/-->\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-sm-8 col-sm-offset-2\">\r\n                    <!--<div class=\"container\">-->\r\n                    <div class=\"panel panel-default\">\r\n                        <!-- Default panel contents -->\r\n                        <div class=\"panel-heading\">View Contact</div>\r\n                        <div class=\"panel-body\">\r\n                            <div class=\"form-group\">\r\n                                <label for=\"inputId\">ID</label>\r\n                                <input type=\"text\" class=\"form-control\" id=\"inputId\" placeholder=\"ID\" th:field=\"*{contact.id}\" name=\"id\" disabled=\"disabled\" />\r\n                            </div>\r\n                            <div class=\"form-group\">\r\n                                <label for=\"inputLastName\">Last Name</label>\r\n                                <input type=\"text\" class=\"form-control\" id=\"inputLastName\" placeholder=\"Last Name\" th:field=\"*{contact.lastName}\" name=\"lastName\" disabled=\"disabled\" />\r\n                            </div>\r\n                            <div class=\"form-group\">\r\n                                <label for=\"inputFirstName\">First Name</label>\r\n                                <input type=\"text\" class=\"form-control\" id=\"inputFirstName\" placeholder=\"First Name\" th:field=\"*{contact.firstName}\" name=\"firstName\" disabled=\"disabled\" />\r\n                            </div>\r\n                            <div class=\"form-group\">\r\n                                <label for=\"inputMobileNumber\">Mobile Number</label>\r\n                                <input type=\"text\" class=\"form-control\" id=\"inputMobileNumber\" placeholder=\"Mobile No.\" th:field=\"*{contact.mobileNumber}\" name=\"mobileNumber\" disabled=\"disabled\" />\r\n                            </div>\r\n                            <div class=\"form-group\">\r\n                                <label for=\"inputAddress\">Address</label>\r\n                                <input type=\"text\" class=\"form-control\" id=\"inputAddress\" placeholder=\"Address\" th:field=\"*{contact.address}\" name=\"address\" disabled=\"disabled\" />\r\n                            </div>\r\n                            <div class=\"text-right\">\r\n                                <a href=\"/contacts\" th:href=\"@{/contacts}\" class=\"btn btn-default\">Back</a>\r\n                                <a th:href=\"@{'/contacts/edit/' + ${contact.id}}\" class=\"btn btn-primary\">Edit</a>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"panel-footer\">\r\n                        </div>\r\n                    </div>\r\n                    <!--</div>-->\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!--/*/ <th:block th:include=\"fragments/js :: body\"></th:block> /*/-->\r\n        <script src=\"../static/js/app.js\" th:src=\"@{/js/app.js}\"></script>\r\n    </body>\r\n</html>\r\n```\r\n\r\n`templates/contact/edit.html`\r\n\r\n```markup\r\n<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n        <meta charset=\"UTF-8\" />\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n        <title>Contacts - CRUD in Spring Boot with Spring Data JPA</title>\r\n        <!--/*/ <th:block th:include=\"fragments/head :: head\"></th:block> /*/-->\r\n    </head>\r\n    <body>\r\n        <!--/*/ <th:block th:include=\"fragments/header :: body\"></th:block> /*/-->\r\n        <div class=\"container\">\r\n            <div class=\"row\">\r\n                <div class=\"col-sm-8 col-sm-offset-2\">\r\n                    <!--<div class=\"container\">-->\r\n                    <div class=\"panel panel-default\">\r\n                        <!-- Default panel contents -->\r\n                        <div class=\"panel-heading\">Edit Contact</div>\r\n                        <div class=\"panel-body\">\r\n                            <form th:action=\"@{/contacts/update}\" th:object=\"${contact}\" method=\"post\">\r\n                                <input type=\"hidden\" th:field=\"*{id}\" />\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"inputId\">ID</label>\r\n                                    <input type=\"text\" class=\"form-control\" id=\"inputId\" placeholder=\"ID\" th:field=\"*{id}\" disabled=\"disabled\" />\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"inputLastName\">Last Name</label>\r\n                                    <input type=\"text\" class=\"form-control\" id=\"inputLastName\" placeholder=\"Last Name\" th:field=\"*{lastName}\" />\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"inputFirstName\">First Name</label>\r\n                                    <input type=\"text\" class=\"form-control\" id=\"inputFirstName\" placeholder=\"First Name\" th:field=\"*{firstName}\" />\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"inputMobileNumber\">Mobile Number</label>\r\n                                    <input type=\"text\" class=\"form-control\" id=\"inputMobileNumber\" placeholder=\"Mobile No.\" th:field=\"*{mobileNumber}\" />\r\n                                </div>\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"inputAddress\">Address</label>\r\n                                    <input type=\"text\" class=\"form-control\" id=\"inputAddress\" placeholder=\"Address\" th:field=\"*{address}\" />\r\n                                </div>\r\n                                <div class=\"text-right\">\r\n                                    <a href=\"/contacts\" th:href=\"@{/contacts}\" class=\"btn btn-default\">Cancel</a>\r\n                                    <button type=\"submit\" class=\"btn btn-primary\">Save</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                        <div class=\"panel-footer\">\r\n                        </div>\r\n                    </div>\r\n                    <!--</div>-->\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!--/*/ <th:block th:include=\"fragments/js :: body\"></th:block> /*/-->\r\n        <script src=\"../static/js/app.js\" th:src=\"@{/js/app.js}\"></script>\r\n    </body>\r\n</html>\r\n```\r\n\r\n## Static Files\r\n\r\n### CSS\r\n\r\n`static/css/app.css`\r\n\r\n```css\r\nbody {\r\n  padding-top: 60px;\r\n}\r\n\r\n.starter-template {\r\n  padding: 40px 15px;\r\n  text-align: center;\r\n}\r\n```\r\n\r\nAlso included are CSS (`bootstrap.min.css`, `bootstrap-theme.min.css`) and JavaScript (`bootstrap.min`) files of **_Bootstrap_** as well as **_jQuery_**. They can also be downloaded from [Bootstrap](http://getbootstrap.com) website.\r\n\r\n## Running the Application\r\n\r\n```bash\r\n$ mvn package && java -jar target/springbootcrud-0.0.1.jar\r\n```\r\n\r\nOpen your browser and point to: <a href=\"http://localhost:8080\" _target=\"blank\">http://localhost:8080</a>\r\n\r\n## Screenshots\r\n\r\n<br>\r\n\r\n## Home Page\r\n\r\n<br>\r\n<img class=\"img-fluid\" src=\"/assets/blog/crud-in-spring-boot-with-spring-data-jpa/2.png\" alt=\"Create Project in Spring Initializr\">\r\n<br>\r\n<br>\r\n\r\n### Contacts Page\r\n\r\n<br>\r\n\r\n#### Contact List (without records)\r\n\r\n<br>\r\n<img class=\"img-fluid\" src=\"/assets/blog/crud-in-spring-boot-with-spring-data-jpa/3.png\" alt=\"Create Project in Spring Initializr\">\r\n<br>\r\n<br>\r\n\r\n#### Add Contact Form\r\n\r\n<br>\r\n<img class=\"img-fluid\" src=\"/assets/blog/crud-in-spring-boot-with-spring-data-jpa/4.png\" alt=\"Create Project in Spring Initializr\">\r\n<br>\r\n<br>\r\n<img class=\"img-fluid\" src=\"/assets/blog/crud-in-spring-boot-with-spring-data-jpa/5.png\" alt=\"Create Project in Spring Initializr\">\r\n<br>\r\n<br>\r\n\r\n#### Contact List (with records)\r\n\r\n<br>\r\n<img class=\"img-fluid\" src=\"/assets/blog/crud-in-spring-boot-with-spring-data-jpa/6.png\" alt=\"Create Project in Spring Initializr\">\r\n<br>\r\n<br>\r\n\r\n#### View Contact\r\n\r\n<br>\r\n<img class=\"img-fluid\" src=\"/assets/blog/crud-in-spring-boot-with-spring-data-jpa/7.png\" alt=\"Create Project in Spring Initializr\">\r\n<br>\r\n<br>\r\n\r\n#### Edit Contact Form\r\n\r\n<br>\r\n<img class=\"img-fluid\" src=\"/assets/blog/crud-in-spring-boot-with-spring-data-jpa/8.png\" alt=\"Create Project in Spring Initializr\">\r\n<br>\r\n<br>\r\nPlease post your comments or suggestions.\r\n\r\nYou can download complete source code [here](https://github.com/julianjupiter/springbootcrud \"springbootcrud Source Code\").\r\n"},{"title":"Simple Spring MVC Application with Java Configuration","excerpt":"Simple Spring MVC application with Java configuration instead of XML.","date":"Sat Nov 28 2015 08:00:00 GMT+0800 (Philippine Standard Time)","image":{"cover":"","og":""},"slug":"simple-spring-mvc-application-with-java-configuration","content":"\r\nThis is a simple **Spring MVC** application with **Java configuration** instead of **XML**.\r\n\r\n(Source)[https://github.com/julianjupiter/SpringMVCGreetingsApp]\r\n"}],"projects":[{"id":1,"name":"Summer Fun","description":"Summer Fun is a functional microframework for Java.","repository":"https://gitlab.com/summer-fun","website":"http://summer-fun.gitlab.io/"},{"id":2,"name":"Kitty","description":"A very lightweight Java microframework!","repository":"https://github.com/kitty-project","website":"https://kitty-project.github.io"},{"id":3,"name":"Haribon","description":"A fast and lightweight PHP framework!","repository":"https://github.com/haribon","website":"https://haribon.github.io"}]},"__N_SSG":true}